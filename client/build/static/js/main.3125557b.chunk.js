(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{27:function(e,t,a){},36:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(22),s=a.n(r),i=a(2),o=(a(36),a(31)),l=a(17),d={movies:[],loading:!0,errors:null,user:{}},u=function(e,t){for(var a=-1,n=0;n<t.length;n++)t[n].id===e&&(a=n);return a},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_MOVIE_REQUEST":return Object(i.a)(Object(i.a)({},e),{},{loading:!0,errors:null});case"FETCH_MOVIE_LOADED":return Object(i.a)(Object(i.a)({},e),{},{movies:t.payload,loading:!1,errors:null});case"FETCH_MOVIE_ERROR":return Object(i.a)(Object(i.a)({},e),{},{movies:e.movies,loading:!1,errors:t.payload});case"ADD_MOVIE":var a=e.movies;a.push(t.payload);var n=Object(i.a)(Object(i.a)({},e),{},{errors:null,movies:a,loading:!1});return n;case"REMOVE_MOVIE":var c=u(t.payload.id,e.movies),r=Object(i.a)(Object(i.a)({},e),{},{errors:null,loading:!1,movies:[].concat(Object(l.a)(e.movies.slice(0,c)),Object(l.a)(e.movies.slice(c+1)))});return r;case"FETCH_USER_DATA":var s=Object(i.a)(Object(i.a)({},e),{},{user:t.payload});return s;case"REMOVE_USER_DATA":var o=Object(i.a)(Object(i.a)({},e),{},{user:{}});return o;default:return e}},b=Object(o.a)(j),h=a(15),m=a.n(h),O=a(18),p=a(6),v=a(7),x=function(){function e(){var t=this;Object(p.a)(this,e),this.api_key="39a8f3cf691a2a2d1a329867c1095d19",this.path="https://api.themoviedb.org/3/",this.request=function(){var e=Object(O.a)(m.a.mark((function e(a){var n,c,r,s,i,o,l,d=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=d.length>1&&void 0!==d[1]?d[1]:"GET",c=d.length>2&&void 0!==d[2]?d[2]:null,(r=d.length>3&&void 0!==d[3]?d[3]:{})["Content-type"]="application/json",e.prev=4,null===c){e.next=24;break}return n="POST",c=t.transformToJSON(c),e.next=10,fetch(a,{method:n,body:c,headers:r});case 10:if((s=e.sent).ok){e.next=19;break}return console.log("Trouble in server side"),e.next=15,s.json();case 15:throw e.sent.errors;case 19:return e.next=21,s.json();case 21:case 39:case 53:return e.abrupt("return",e.sent);case 22:case 40:e.next=54;break;case 24:if(!r.credentials){e.next=42;break}return n="GET",e.next=28,fetch(a,{method:n,body:c,headers:r});case 28:if((i=e.sent).ok){e.next=37;break}return console.log("Trouble in server side"),e.next=33,i.json();case 33:throw e.sent.errors;case 37:return e.next=39,i.json();case 42:return e.next=44,fetch("".concat(t.path).concat(a));case 44:if((o=e.sent).ok){e.next=51;break}return console.log("can't fetch response"),e.next=49,o.json();case 49:throw l=e.sent,new Error(l.errors);case 51:return e.next=53,o.json();case 54:e.next=59;break;case 56:throw e.prev=56,e.t0=e.catch(4),e.t0;case 59:case"end":return e.stop()}}),e,null,[[4,56]])})));return function(t){return e.apply(this,arguments)}}(),this.getImg=function(e){return"https://www.themoviedb.org/t/p/w300_and_h450_bestv2".concat(e)},this.getPopularMovies=function(){var e=Object(O.a)(m.a.mark((function e(a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.request("movie/popular?api_key=".concat(t.api_key,"&language=en-US&page=").concat(a));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getBySearch=function(){var e=Object(O.a)(m.a.mark((function e(a,n){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n||!a){e.next=4;break}return e.next=3,t.request("search/movie?api_key=".concat(t.api_key,"&language=en-US&query=").concat(n,"&page=").concat(a));case 3:case 6:return e.abrupt("return",e.sent);case 4:return e.next=6,t.request("search/movie?api_key=".concat(t.api_key,"&language=en-US&query=").concat(n));case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),this.getByGenre=function(){var e=Object(O.a)(m.a.mark((function e(a,n){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n||!a){e.next=4;break}return e.next=3,t.request("discover/movie?api_key=".concat(t.api_key,"&language=en-US&&include_adult=false&&page=").concat(a,"&with_genres=").concat(n));case 3:case 6:return e.abrupt("return",e.sent);case 4:return e.next=6,t.request("genre/movie/list?api_key=".concat(t.api_key,"&language=en-US"));case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),this.getMovieDetails=function(){var e=Object(O.a)(m.a.mark((function e(a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.request("movie/".concat(a,"?api_key=").concat(t.api_key,"&language=en-US"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getRecommendations=function(){var e=Object(O.a)(m.a.mark((function e(a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.request("movie/".concat(a,"/recommendations?api_key=").concat(t.api_key,"&language=en-US&language=en-US&page=1"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}return Object(v.a)(e,[{key:"transformToJSON",value:function(e){return JSON.stringify(e)}}]),e}(),f=c.a.createContext(),g=f.Consumer,N=f.Provider,y=a(16),_=a(3),w=a(4),E=a(9),k=a(8),S=a(0),C=new x,D=function(e){return function(t){return function(a){return Object(S.jsx)(g,{children:function(n){var c=e?Object(i.a)(Object(i.a)({},e(C)),{},{engine:C},n):Object(i.a)(Object(i.a)({},n),{},{engine:C});return Object(S.jsx)(t,Object(i.a)(Object(i.a)({},a),c))}})}}},T=(a(27),a(10)),F=function(e){return{type:"FETCH_MOVIE_ERROR",payload:e}},P=function(e){Object(E.a)(a,e);var t=Object(k.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={ErrorExist:!1},e}return Object(v.a)(a,[{key:"componentDidCatch",value:function(e,t){this.setState({ErrorExist:!this.state.ErrorExist})}},{key:"render",value:function(){return this.state.ErrorExist?Object(S.jsx)(G,{}):this.props.children}}]),a}(n.Component),I=D()(Object(T.b)(null,(function(e){return{setUserData:function(t){e({type:"FETCH_USER_DATA",payload:t})}}}))((function(e){var t=Object(n.useState)(!1),a=Object(w.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)({email:"",password:""}),o=Object(w.a)(s,2),l=o[0],d=o[1],u=Object(n.useState)({}),j=Object(w.a)(u,2),b=j[0],h=j[1],m=Object(n.useRef)(),O=Object(_.g)(),p=new xe;Object(n.useEffect)((function(){p.validate(l,h)}),[l]);return Object(S.jsx)(P,{children:Object(S.jsx)("div",{className:"auth-box",children:Object(S.jsx)("form",{children:Object(S.jsxs)("fieldset",{children:[Object(S.jsx)("legend",{children:Object(S.jsx)("h4",{className:"text-secondary fw-bold",children:"User authentication"})}),Object(S.jsxs)("div",{className:"form-group",children:[Object(S.jsx)("label",{htmlFor:"exampleInputEmail1",className:"form-label mt-3 fst-italic",children:"Email address"}),Object(S.jsx)("input",{type:"email",className:"form-control auth-input",id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"Enter email",onBlur:function(e){return d(Object(i.a)(Object(i.a)({},l),{},{email:e.target.value}))}}),Object(S.jsx)("small",{className:"auth-error text-danger fst-italic",children:(null===b||void 0===b?void 0:b.email)&&c?b.email:null})]}),Object(S.jsxs)("div",{className:"form-group",children:[Object(S.jsx)("label",{htmlFor:"exampleInputPassword1",className:"form-label mt-4 fst-italic",children:"Password"}),Object(S.jsx)("input",{type:"password",ref:m,className:"form-control auth-input",id:"exampleInputPassword1",placeholder:"Password",onBlur:function(e){return d(Object(i.a)(Object(i.a)({},l),{},{password:e.target.value}))}}),Object(S.jsxs)("p",{children:[Object(S.jsx)("input",{type:"checkbox",onChange:function(e){return e.target.checked?m.current.type="text":m.current.type="password"}})," Show password"]}),Object(S.jsx)("small",{className:"auth-error text-danger fst-italic",children:(null===b||void 0===b?void 0:b.password)&&c?b.password:null})]}),Object(S.jsx)("button",{type:"submit",className:"btn btn-primary btn-registration mt-3",onClick:function(t){t.preventDefault(),r(!0),p.validate(l,h),Object.keys(b).length||e.engine.request("https://yermolaiev-movie-db.herokuapp.com/api/login","POST",l,{}).then((function(t){console.log(t),e.setUserData(t.user_data),e.login(t.jwt,t.id),O.push("/popular/1")})).catch((function(e){e.email&&h(Object(i.a)(Object(i.a)({},b),{},{email:e.email})),e.password&&h(Object(i.a)(Object(i.a)({},b),{},{password:e.password}))}))},children:"Submit"})]})})})})}))),R=function(e){Object(E.a)(a,e);var t=Object(k.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={ErrorExist:!1},e}return Object(v.a)(a,[{key:"componentDidCatch",value:function(e,t){this.setState({ErrorExist:!this.state.ErrorExist})}},{key:"render",value:function(){return this.state.ErrorExist?Object(S.jsx)(G,{}):this.props.children}}]),a}(n.Component);var M=D()((function(e){var t=Object(n.useState)(!1),a=Object(w.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)({email:"",password:"",city:"",phone:"",nick:""}),o=Object(w.a)(s,2),l=o[0],d=o[1],u=Object(n.useState)({}),j=Object(w.a)(u,2),b=j[0],h=j[1],m=Object(n.useState)({loading:!1,success:!1}),O=Object(w.a)(m,2),p=O[0],v=O[1],x=Object(n.useState)(6),f=Object(w.a)(x,2),g=f[0],N=f[1],y=new xe,E=Object(_.g)();if(Object(n.useEffect)((function(){y.validate(l,h)}),[l]),p.success){var k=setInterval((function(){N((function(){return g-1})),0===g&&E.push("/authentication")}),1e3);return setTimeout((function(){return clearInterval(k)}),6e3),Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("h1",{children:"New user successfully created"}),Object(S.jsx)("h3",{children:"You will be redirected to login page via ".concat(g," seconds...")})]})}return Object(S.jsxs)("div",{id:"auth-box",children:[Object(S.jsx)("div",{className:"shadow-loading ".concat(p.loading),children:Object(S.jsxs)("div",{className:"lds-default",children:[Object(S.jsx)("div",{}),Object(S.jsx)("div",{}),Object(S.jsx)("div",{}),Object(S.jsx)("div",{}),Object(S.jsx)("div",{}),Object(S.jsx)("div",{}),Object(S.jsx)("div",{}),Object(S.jsx)("div",{}),Object(S.jsx)("div",{}),Object(S.jsx)("div",{}),Object(S.jsx)("div",{}),Object(S.jsx)("div",{})]})}),Object(S.jsx)(R,{children:Object(S.jsx)("form",{children:Object(S.jsxs)("fieldset",{children:[Object(S.jsx)("legend",{children:Object(S.jsx)("h4",{className:"text-secondary fw-bold",children:"Registration new user"})}),Object(S.jsxs)("div",{className:"form-group",children:[Object(S.jsx)("label",{htmlFor:"Email",className:"form-label mt-4 fst-italic fs-7",children:"Email address"}),Object(S.jsx)("input",{type:"email",className:"form-control auth-input",id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"Enter email",onChange:function(e){return d(Object(i.a)(Object(i.a)({},l),{},{email:e.target.value}))}}),Object(S.jsx)("small",{className:"auth-error text-danger fst-italic",children:(null===b||void 0===b?void 0:b.email)&&c?b.email:null})]}),Object(S.jsxs)("div",{className:"form-group",children:[Object(S.jsx)("label",{htmlFor:"Password",className:"form-label mt-2 fst-italic fs-7",children:"Password"}),Object(S.jsx)("input",{type:"password",className:"form-control auth-input",id:"exampleInputPassword1",placeholder:"Password",onChange:function(e){return d(Object(i.a)(Object(i.a)({},l),{},{password:e.target.value}))}}),Object(S.jsx)("small",{className:"auth-error text-danger fst-italic",children:(null===b||void 0===b?void 0:b.password)&&c?b.password:null})]}),Object(S.jsxs)("div",{className:"form-group",children:[Object(S.jsx)("label",{htmlFor:"Default",className:"col-form-label mt-2 fst-italic fs-7",children:"Type your native city"}),Object(S.jsx)("input",{type:"text",className:"form-control auth-input",placeholder:"Where are you from",name:"city_input",onChange:function(e){return d(Object(i.a)(Object(i.a)({},l),{},{city:e.target.value}))}}),Object(S.jsx)("small",{className:"auth-error text-danger fst-italic",children:(null===b||void 0===b?void 0:b.city)&&c?b.city:null})]}),Object(S.jsxs)("div",{className:"form-group",children:[Object(S.jsx)("label",{className:"col-form-label mt-2 fst-italic",htmlFor:"inputDefault",children:"Type your number"}),Object(S.jsx)("input",{type:"text",className:"form-control auth-input",placeholder:"Phone number",name:"phone_input",onChange:function(e){return d(Object(i.a)(Object(i.a)({},l),{},{phone:e.target.value}))}}),Object(S.jsx)("small",{className:"auth-error text-danger fst-italic",children:(null===b||void 0===b?void 0:b.phone)&&c?b.phone:null})]}),Object(S.jsxs)("div",{className:"form-group",children:[Object(S.jsx)("label",{className:"col-form-label mt-2 fst-italic",htmlFor:"inputDefault",children:"Type your nickname"}),Object(S.jsx)("input",{type:"text",className:"form-control auth-input",placeholder:"Nickname",name:"nickname_input",onChange:function(e){return d(Object(i.a)(Object(i.a)({},l),{},{nick:e.target.value}))}}),Object(S.jsx)("small",{className:"auth-error text-danger fst-italic",children:(null===b||void 0===b?void 0:b.nick)&&c?b.nick:null})]}),Object(S.jsx)("button",{type:"submit",className:"btn btn-primary btn-registration mt-3",onClick:function(t){t.preventDefault(),v(Object(i.a)(Object(i.a)({},p),{},{loading:!0})),r(!0),y.validate(l,h),Object.keys(b).length||e.engine.request("https://yermolaiev-movie-db.herokuapp.com/api/registration","POST",l).then((function(){v({success:!0,loading:!1})})).catch((function(e){h(e),v(Object(i.a)(Object(i.a)({},p),{},{loading:!1}))}))},children:"Create account"})]})})})]})})),A=Object(S.jsx)("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"user-circle",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 496 512",className:"svg-inline--fa fa-user-circle fa-w-16 fa-3x",children:Object(S.jsx)("path",{fill:"currentColor",d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z",className:""})}),B=function(e){var t=e.src;return Object(S.jsx)("div",{children:t?Object(S.jsx)("img",{src:t}):A})},U=(a(45),D()(Object(T.b)((function(e){return{user:e.user}}),null)((function(e){var t,a=Object(n.useState)("disabled"),r=Object(w.a)(a,2),s=r[0],i=r[1],o=Object(n.useState)([]),d=Object(w.a)(o,2),u=d[0],j=d[1],b=Object(_.g)(),h=Object(n.useRef)(),m=Object(n.useState)({}),O=Object(w.a)(m,2),x=O[0],f=O[1],g=new(function(){function e(){var t=this;Object(p.a)(this,e),this.blurEvent=function(){t.isBlured=!0},this.isBlured=null}return Object(v.a)(e,[{key:"init",value:function(){var e=this;document.addEventListener("click",(function(t){e.isBlured&&(N.clearResults(),e.isBlured=!1)}))}},{key:"typeEvent",value:function(e){e.length>2?N.handleType(e):N.handleType()}},{key:"buttonPress",value:function(){this.isBlured=!1,b.push("/search/1/".concat(h.current.value)),N.clearInput(),N.clearResults()}}]),e}());g.init();var N={handleType:function(t){var a=this;this.isBlured=!1,t?e.engine.getBySearch(null,t).then((function(e){return a.handleResults({status:"success",data:e})})).catch((function(e){return a.handleResults({status:"error",data:e})})):this.clearResults()},handleResults:function(e){var t=this,a=e.status,n=e.data;if("error"===a&&(i("disabled"),j(Object(S.jsx)("div",{className:"p-2 bd-highlight",children:"Sorry some error occurred"},1))),"success"===a&&0===n.results.length)j(Object(S.jsx)("div",{className:"p-2 bd-highlight",children:"No result by your searching query, try another variant"},1)),i("disabled");else{var c=n.results.map((function(e,a){return Object(S.jsx)("div",{className:"p-2 bd-highlight",onClick:function(){b.push("/movie_detail/".concat(e.id)),t.clearResults(),t.clearInput()},children:e.original_title},a)}));j(Object(l.a)(c)),i("")}},clearInput:function(){h.current.value=""},clearResults:function(){i("disabled"),j([])}},y=function(e){"change"===e.type?f({type:"typeEvent",value:e.target.value}):"blur"===e.type?f({type:"blurEvent"}):f({type:"buttonPress",value:h.current.value})};Object(n.useEffect)((function(){x.type&&g[x.type](x.value)}),[x]);var E=function(t,a){"logout"===a&&(e.logout(),b.push("/")),"login"===a&&b.push("/authentication"),"register"===a&&b.push("/registration")};return Object(S.jsx)("nav",{className:"navbar navbar-expand-sm navbar-light bg-light",children:Object(S.jsx)("div",{className:"container-fluid",children:Object(S.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarColor03",children:[Object(S.jsx)("ul",{className:"navbar-nav me-auto",children:e.id||e.token?Object(S.jsxs)(c.a.Fragment,{children:[Object(S.jsx)("div",{className:"header_small_image",children:Object(S.jsx)(B,{})}),Object(S.jsx)("div",{className:"d-flex align-items-center header_settings greeting",children:Object(S.jsx)("i",{children:"Hi, ".concat(null===e||void 0===e||null===(t=e.user)||void 0===t?void 0:t.nick,"!")})}),Object(S.jsxs)("div",{className:"d-flex align-items-center header_settings",children:["Settings",Object(S.jsxs)("div",{className:"header_settings-list",children:[Object(S.jsx)("div",{onClick:function(e){return b.push("/favorite")},children:"Favorite"}),Object(S.jsx)("div",{onClick:function(e){return b.push("/settings")},children:"Personal settings"}),Object(S.jsx)("div",{onClick:function(e){return E(0,"logout")},children:"Logout"})]})]})]}):Object(S.jsxs)("div",{className:"header-button",children:["Hello stranger! You can",Object(S.jsx)("span",{className:"header_registration_links",onClick:function(e){return E(0,"login")},children:" Login"})," or",Object(S.jsx)("span",{className:"header_registration_links",onClick:function(e){return E(0,"register")},children:" Create new one!"})]})}),Object(S.jsxs)("form",{className:"d-flex",onBlur:y,children:[Object(S.jsx)("input",{className:"search-input","data-toggle":"dropdown",type:"text",ref:h,placeholder:"Movie search",onChange:function(e){return y(e,e.target.value)},onFocus:function(e){e.target.style.width="300px"},onBlur:function(e){e.target.style.width="150px"}}),Object(S.jsx)("button",{className:"btn btn-success my-2 my-sm-0 btn-search",type:"button",disabled:s,onClick:function(e){return y(e)},children:"Search"}),Object(S.jsx)("div",{className:"d-flex flex-column bd-highlight pos-absolute",children:u})]})]})})})})))),V=(a(46),D()(Object(T.b)(null,(function(e,t){var a=t.token,n=t.engineGetFavorite;return{getFavoriteMovie:function(){return function(e,t,a){a({type:"FETCH_MOVIE_REQUEST"}),t(e).then((function(e){a({type:"FETCH_MOVIE_LOADED",payload:e.UserStorage})})).catch((function(e){a(F(e))}))}(a,n,e)}}}))((function(e){Object(n.useEffect)((function(){e.token&&e.getFavoriteMovie()}),[e.token]);var t=Object(_.g)(),a=function(e,t){return Math.trunc(Math.random()*(t-e)+e)};return Object(S.jsxs)("ul",{className:"list-group",children:[Object(S.jsx)("li",{className:"SideBar_item",onClick:function(){e.engine.getPopularMovies(a(1,500)).then((function(e){var n="/random_movie/".concat(e.results[a(0,19)].id);t.push(n)})).catch((function(e){return console.log(e)}))},children:Object(S.jsx)("span",{className:"sideBarText",children:"Random movie"})}),Object(S.jsx)("li",{className:"SideBar_item",children:Object(S.jsx)(y.b,{to:"/popular/1",children:Object(S.jsx)("span",{className:"sideBarText",children:"Popular"})})}),Object(S.jsx)("li",{className:"SideBar_item",children:Object(S.jsx)(y.b,{to:"/genres",children:Object(S.jsx)("span",{className:"sideBarText",children:"Genres"})})}),e.credentials?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("li",{className:"SideBar_item",children:Object(S.jsx)(y.b,{to:"/favorite",children:Object(S.jsx)("span",{className:"sideBarText",children:"Favorite"})})}),Object(S.jsx)("li",{className:"SideBar_item",children:Object(S.jsx)(y.b,{to:"/settings",children:Object(S.jsx)("span",{className:"sideBarText",children:"Account settings"})})})]}):Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("li",{className:"SideBar_item_disabled",children:Object(S.jsx)("span",{className:"sideBarText_disabled",children:"Favorite"})}),Object(S.jsx)("li",{className:"SideBar_item_disabled",children:Object(S.jsx)("span",{className:"sideBarText_disabled",children:"Account settings"})})]})]})})))),q=a.p+"static/media/Loading.d1912aee.SVG";function H(){return Object(S.jsx)("div",{className:"d-flex justify-content-center",children:Object(S.jsx)("img",{src:q,alt:"error icon"})})}var G=function(e){return Object(S.jsx)("div",{className:"row d-flex",children:Object(S.jsxs)("div",{className:"row",children:[Object(S.jsx)("h1",{children:"Some terrify error occurred"}),Object(S.jsx)("h3",{children:"Error details: ".concat(null===e||void 0===e?void 0:e.message)})]})})};a(47);function z(e){var t=e.current_page,a=e.total_page,c=e.itteractingWithPage,r=Object(n.useState)([]),s=Object(w.a)(r,2),i=s[0],o=s[1];return Object(n.useEffect)((function(){if(t&&a){var e=function(){var e=[];if(1===a)return[t];for(var n=t;n>=t-2&&(e.push(n),1!==n);n--);var c=3-e.length;if(0===c)for(var r=t+1;r<=t+2&&(e.push(r),r!==a);r++);else for(var s=t+1;s<=t+2+c&&(e.push(s),s!==a);s++);return e.sort((function(e,t){return e-t}))}().map((function(e,a){return e===t?Object(S.jsx)("li",{className:"page-item active m-2",onClick:function(){return c(e)},children:Object(S.jsx)("span",{className:"page-link",children:e})},a):Object(S.jsx)("li",{className:"page-item m-2",onClick:function(){return c(e)},children:Object(S.jsx)("span",{className:"page-link",children:e})},a)}));o(Object(l.a)(e))}}),[t,a]),Object(S.jsx)("div",{children:Object(S.jsx)("ul",{className:"pagination",children:i})})}a(48);var L=function(e){Object(E.a)(a,e);var t=Object(k.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={ErrorExist:!1},e}return Object(v.a)(a,[{key:"componentDidCatch",value:function(e,t){this.setState({ErrorExist:!this.state.ErrorExist})}},{key:"render",value:function(){return this.state.ErrorExist?Object(S.jsx)(G,{}):this.props.children}}]),a}(n.Component),W=function(e){var t=Object(n.useState)({data:!1,loading:!1,error:!1}),a=Object(w.a)(t,2),c=a[0],r=a[1],s=Object(_.g)();return Object(n.useEffect)((function(){r({data:!1,loading:!0,error:!1}),e.getData().then((function(e){var t=e.genres.map((function(e,t){return Object(S.jsx)("div",{className:"col genres_item",children:Object(S.jsx)("h5",{className:"card-title genres-card fst-italic",onClick:function(){return s.push("/genre/1/".concat(e.id))},children:e.name})},t)}));r({data:t,loading:!1,error:!1})})).catch((function(e){r({data:!1,loading:!1,error:e.message})}))}),[]),c.error||!c.data?Object(S.jsx)(G,{message:c.error}):c.loading?Object(S.jsx)(H,{}):Object(S.jsx)(L,{children:Object(S.jsxs)("div",{className:"genre",children:[Object(S.jsx)("div",{className:"card text-center m-1",children:Object(S.jsx)("h3",{className:"genre-header fw-bold fst-italic",children:"Select category:"})}),Object(S.jsx)("div",{className:"d-flex flex-wrap justify-content-start genres_item_list",children:c.data})]})})},J=function(e){return function(t){Object(E.a)(n,t);var a=Object(k.a)(n);function n(){var e;Object(p.a)(this,n);for(var t=arguments.length,c=new Array(t),r=0;r<t;r++)c[r]=arguments[r];return(e=a.call.apply(a,[this].concat(c))).state={data:null,error:!1,loading:!1,current_page:1,total_page:null,search:null},e.getParamsPage=function(){return{page:e.props.match.params.page,search:e.props.match.params.id}},e.itteractingWithPage=function(t){e.setState((function(e){return{current_page:t}}))},e}return Object(v.a)(n,[{key:"componentDidMount",value:function(){var e=this.getParamsPage(),t=e.page,a=e.search;this.setState({loading:!0,search:a,current_page:t}),"undefined"!==a?this.fetchData(t,a):this.fetchData(t)}},{key:"componentDidUpdate",value:function(e,t){var a=this;this.state.current_page===t.current_page&&this.props.getData===e.getData&&this.props.match.params.id===e.match.params.id||(this.setState((function(e){return{loading:!0,search:a.props.match.params.id}})),"undefined"!==this.state.search?this.fetchData(this.state.current_page,this.state.search):this.fetchData(this.state.current_page))}},{key:"fetchData",value:function(e,t){var a=this;this.props.getData(e,t).then((function(e){a.setState((function(){return{data:e.results,error:!1,loading:!1,current_page:e.page,total_page:e.total_pages}}))})).catch((function(e){return a.setState({data:null,error:!0,loading:!1,current_page:null,total_page:null})}))}},{key:"render",value:function(){var t=this.state,a=t.error,n=t.data,c=t.current_page,r=t.total_page;return a?Object(S.jsx)(G,{}):n?Object(S.jsx)(e,{data:n,current_page:c,total_page:r,itteractingWithPage:this.itteractingWithPage}):Object(S.jsx)(H,{})}}]),n}(n.Component)},Z=(a(49),function(e){var t=e.data,a=Object(_.g)();return Object(S.jsx)("div",{className:"col d-flex mt-1",children:Object(S.jsx)("div",{className:"card m-0",children:Object(S.jsxs)("div",{className:"card-body",children:[Object(S.jsx)("h5",{className:"card-title fw-bold",children:t.original_title}),Object(S.jsx)("img",{width:200,height:300,src:"https://www.themoviedb.org/t/p/w300_and_h450_bestv2/".concat(t.poster_path),alt:"Poster of movie"}),Object(S.jsx)("p",{className:"card-text fs-6 fst-italic",children:"".concat(t.overview.substring(0,50)," ...")}),Object(S.jsxs)("p",{className:"card-text fs-5",children:["Movie Rate: ",t.vote_average]}),Object(S.jsx)("button",{type:"button",className:"btn btn-secondary more-detail",onClick:function(){return function(e){a.push("/movie_detail/".concat(e.id))}(t)},children:"More detail"}),Object(S.jsx)(ae,{movie_data:t})]})})})}),Q=function(e){Object(E.a)(a,e);var t=Object(k.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={ErrorExist:!1},e}return Object(v.a)(a,[{key:"componentDidCatch",value:function(e,t){this.setState({ErrorExist:!this.state.ErrorExist})}},{key:"render",value:function(){return this.state.ErrorExist?Object(S.jsx)(G,{}):this.props.children}}]),a}(n.Component),Y=function(e){var t=Object(n.useState)(),a=Object(w.a)(t,2),c=a[0],r=a[1];Object(n.useEffect)((function(){s(e.data)}),[e.data]);var s=function(t){var a=t?t.map((function(e,t){return Object(S.jsx)(Z,{data:e},t)})):null;if(!e.data)return Object(S.jsx)("div",{children:"Sorry nothing to display"});r(a)};return Object(S.jsx)(Q,{children:Object(S.jsx)("div",{className:"container",children:Object(S.jsxs)(Q,{children:[Object(S.jsx)(z,{current_page:e.current_page,total_page:e.total_page,itteractingWithPage:e.itteractingWithPage}),Object(S.jsx)("div",{className:"row row-col-4",children:c}),Object(S.jsx)(z,{current_page:e.current_page,total_page:e.total_page,itteractingWithPage:e.itteractingWithPage})]})})})},$=(a(50),function(e){var t=e.data;return Object(S.jsxs)("div",{children:[Object(S.jsxs)("div",{className:"card card-head row mb-3 mt-3",children:[Object(S.jsx)("h3",{className:"card-header fw-bold",children:t.original_title}),Object(S.jsxs)("div",{className:"card-body",children:[Object(S.jsx)("h5",{className:"card-title fst-italic",children:"Motto: ".concat(t.title)}),Object(S.jsx)("h6",{className:"card-subtitle text-muted fst-italic",children:"Released: ".concat(t.release_date)})]})]}),Object(S.jsxs)("div",{className:"row g-0",children:[Object(S.jsx)("div",{className:"col-md-4",children:Object(S.jsx)("img",{src:t.backdrop_path,className:"img-fluid rounded-start",alt:t.original_title})}),Object(S.jsx)("div",{className:"col-md-8",children:Object(S.jsxs)("div",{className:"card-body",children:[Object(S.jsx)("h5",{className:"card-title fw-bold",children:"Main information:"}),Object(S.jsxs)("ul",{className:"list-group list-group-flush",children:[Object(S.jsx)("li",{className:"list-group-item",children:"Genres: ".concat(t.genres.map((function(e){return e.name})))}),Object(S.jsx)("li",{className:"list-group-item",children:"Budget: ".concat(t.budget)}),Object(S.jsx)("li",{className:"list-group-item",children:"Revenue: ".concat(t.revenue)}),Object(S.jsx)("li",{className:"list-group-item",children:"Average vote : ".concat(t.vote_average)}),Object(S.jsx)("li",{className:"list-group-item",children:"Popularity : ".concat(t.popularity)}),Object(S.jsx)("li",{className:"list-group-item",children:"Duration : ".concat(t.runtime)}),Object(S.jsx)("li",{className:"list-group-item",children:"Production companies : ".concat(t.production_companies.map((function(e){return e.name})))}),Object(S.jsx)("li",{className:"list-group-item",children:"Movie id : ".concat(t.id)}),Object(S.jsx)("li",{className:"list-group-item",children:"Age limit to view : ".concat(t.adult?"Yes":"Nope")}),Object(S.jsx)("li",{className:"list-group-item",children:"Original leandue: ".concat(t.original_language)})]})]})}),Object(S.jsx)("div",{className:"card row mt-2 mb-3",children:Object(S.jsx)("div",{className:"card-body",children:Object(S.jsx)("p",{className:"card-text fst-italic fs-6",children:t.overview})})})]})]})}),K=function(e){var t=e.recommendations,a=e.getImage,c=Object(n.useState)([]),r=Object(w.a)(c,2),s=r[0],i=r[1],o=Object(_.g)(),d=function(e){var t=[];e&&(t=e.results.map((function(e,t){var n=e.id;return Object(S.jsx)("div",{className:"col",children:Object(S.jsxs)("div",{className:"card",style:{width:"9rem"},children:[Object(S.jsx)("img",{src:a(e.backdrop_path),className:"card-img-top",alt:e.original_title}),Object(S.jsxs)("div",{className:"card-body",children:[Object(S.jsx)("h6",{className:"card-title text-center",children:e.original_title}),Object(S.jsx)("button",{type:"button",className:"btn btn-primary btn-component",onClick:function(e){return t=n,void o.push("/movie_detail/".concat(t));var t},children:"More details"})]})]})},t)})),i(Object(l.a)(t)))};return Object(n.useEffect)((function(){d(t)}),[t]),Object(S.jsx)("div",{className:"row row-cols-5",children:s})},X=function(e){Object(E.a)(a,e);var t=Object(k.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={ErrorExist:!1},e}return Object(v.a)(a,[{key:"componentDidCatch",value:function(e,t){this.setState({ErrorExist:!this.state.ErrorExist})}},{key:"render",value:function(){return this.state.ErrorExist?Object(S.jsx)(G,{}):this.props.children}}]),a}(n.Component),ee=function(e){Object(E.a)(a,e);var t=Object(k.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={id:null,recommendations:null,data:null,loading:!1,error:!1},e.onError=function(t){e.setState(Object(i.a)(Object(i.a)({},e.state),{},{error:t}))},e.getId=function(){return e.props.match.params.id},e.fetchData=function(t){var a=[e.props.getData(t),e.props.getRecommendations(t)];Promise.all(a).then((function(t){t.forEach((function(t,a){0===a&&(t.backdrop_path=e.props.getImage(t.poster_path),e.setState({data:t})),1===a&&t.results.forEach((function(a){e.setState({recommendations:t,loading:!1})}))}))})).catch((function(t){return e.onError(t)}))},e}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=this.getId();this.setState({id:e,data:null,loading:!0,error:!1}),this.fetchData(e)}},{key:"componentDidUpdate",value:function(e,t,a){this.props.match.params.id!==e.match.params.id&&this.fetchData(this.props.match.params.id)}},{key:"componentDidCatch",value:function(e,t){this.setState({error:!this.state.error})}},{key:"render",value:function(){if(!this.state.data)return Object(S.jsx)(H,{});if(this.state.error)return Object(S.jsx)(G,{});if(this.state.loading||!this.state.data)return Object(S.jsx)(H,{});var e=this.state,t=e.data,a=e.recommendations;return Object(S.jsx)("div",{className:"container-fluid",children:Object(S.jsxs)(X,{children:[Object(S.jsx)($,{data:t}),Object(S.jsx)(ae,{movie_id:t.id,movie_data:t}),Object(S.jsxs)("div",{className:"container-fluid",children:[Object(S.jsx)("h3",{className:"fw-bold",children:"The Same movie"}),Object(S.jsx)(K,{recommendations:a,getImage:this.props.getImage})]})]})})}}]),a}(n.Component),te=Object(_.h)(ee),ae=(a(51),D()(Object(T.b)((function(e){return{movies:e.movies,loading:e.loading,errors:e.errors}}),(function(e,t){var a=t.token,n=t.engineRemoveFavorite,c=t.engineAddFavorite,r=t.movie_data;return{removeFromFavorite:function(){return function(e,t,a,n){a({type:"FETCH_MOVIE_REQUEST"}),a(function(e){return{type:"REMOVE_MOVIE",payload:e}}(n)),t(e,n).then((function(e){console.log(e)})).catch((function(e){a(F(e))}))}(a,n,e,r)},addToFavorite:function(){return function(e,t,a,n){a({type:"FETCH_MOVIE_REQUEST"}),a({type:"ADD_MOVIE",payload:n}),t(e,n).then((function(e){console.log(e)})).catch((function(e){a(F(e))}))}(a,c,e,r)}}}))((function(e){var t=e.movie_data,a=e.removeFromFavorite,c=e.addToFavorite,r=e.token,s=Object(n.useState)({add:"disabled",remove:"disabled"}),i=Object(w.a)(s,2),o=i[0],l=i[1],d=function(){if(void 0!==e.movies&&null!==e.movies){r||l({add:"disabled",remove:"disabled"});var a=function(t){for(var a=-1,n=0;n<e.movies.length;n++){var c;(null===(c=e.movies[n])||void 0===c?void 0:c.id)===t&&(a=n)}return a}(t.id);l(a>=0?{add:"disabled",remove:""}:{add:"",remove:"disabled"})}};Object(n.useEffect)((function(){return d()}),[e.movies]);return e.token?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("button",{type:"button",className:"btn btn-primary btn-component",disabled:o.add,onClick:function(){return c(),void l({add:"disabled",remove:""})},children:"Add to favorite"}),Object(S.jsx)("button",{type:"button",className:"btn btn-primary btn-component",disabled:o.remove,onClick:function(){return a(),void l({add:"",remove:"disabled"})},children:"Remove from favorite"})]}):Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("button",{type:"button",className:"btn btn-primary btn-component",disabled:"disabled",children:"Add to favorite"}),Object(S.jsx)("button",{type:"button",className:"btn btn-primary btn-component",disabled:"disabled",children:"Remove from favorite"}),Object(S.jsx)("div",{className:"alert alert-warning",role:"alert",children:"Please login or register account for save in favorite current movie"})]})})))),ne=function(e){Object(E.a)(a,e);var t=Object(k.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={ErrorExist:!1},e}return Object(v.a)(a,[{key:"componentDidCatch",value:function(e,t){this.setState({ErrorExist:!this.state.ErrorExist})}},{key:"render",value:function(){return this.state.ErrorExist?Object(S.jsx)(G,{}):this.props.children}}]),a}(n.Component),ce=function(e){var t=Object(n.useState)([]),a=Object(w.a)(t,2),c=a[0],r=a[1],s=Object(_.g)();Object(n.useEffect)((function(){return i(e.data)}),[e.data]);var i=function(e){var t=null;t=e?e.map((function(e,t){return Object(S.jsx)("div",{className:"col d-flex mt-3",children:Object(S.jsx)("div",{className:"card",children:Object(S.jsxs)("div",{className:"card-body",children:[Object(S.jsx)("h5",{className:"card-title",children:e.original_title}),Object(S.jsx)("img",{width:150,height:230,alt:"some picture",src:(a=e.poster_path,"https://www.themoviedb.org/t/p/w300_and_h450_bestv2".concat(a))}),Object(S.jsxs)("div",{className:"card-text",children:[Object(S.jsx)("button",{type:"button",className:"btn btn-light btn-component",onClick:function(){return function(e){s.push("/movie_detail/".concat(e.id))}(e)},children:"More details"}),Object(S.jsx)(ae,{movie_id:e.id,movie_data:e})]})]})})},t);var a})):[Object(S.jsx)("div",{children:"No favorite in you list"},1)],r(t)};return Object(S.jsx)("div",{className:"row row-cols-3",children:Object(S.jsx)(ne,{children:c})})},re=function(e){Object(E.a)(a,e);var t=Object(k.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={ErrorExist:!1},e}return Object(v.a)(a,[{key:"componentDidCatch",value:function(e,t){this.setState({ErrorExist:!this.state.ErrorExist})}},{key:"render",value:function(){return this.state.ErrorExist?Object(S.jsx)(G,{}):this.props.children}}]),a}(n.Component),se=Object(T.b)((function(e){return{movies:e.movies,loading:e.loading,errors:e.errors}}))((function(e){return e.movies.error?Object(S.jsx)(G,{}):e.movies.loading?Object(S.jsx)(H,{}):0===e.movies.length?Object(S.jsx)("div",{className:"container-fluid",children:Object(S.jsx)("div",{className:"alert alert-primary mt-3",role:"alert",children:"Favorite list is empty please add some movie"})}):Object(S.jsx)("div",{className:"container-fluid",children:Object(S.jsx)(re,{children:Object(S.jsx)(ce,{data:e.movies})})})})),ie=function(e){return{getData:e.getByGenre,getImage:e.getImg}},oe=D((function(e){return{getData:e.getMovieDetails,getImage:e.getImg}}))(se),le=D((function(e){return{getData:e.getBySearch,getImage:e.getImg}}))(J(Y)),de=D((function(e){return{getData:e.getPopularMovies,getImage:e.getImg}}))(J(Y)),ue=D(ie)(J(Y)),je=D(ie)(W),be=D((function(e){return{getRecommendations:e.getRecommendations,getData:e.getMovieDetails,getImage:e.getImg}}))(te),he=(a(52),function(e){var t=e.data,a=Object.entries(t).map((function(e,t){return Object(S.jsxs)("div",{children:[e[0],":",e[1]]},t)}));return Object(S.jsx)(S.Fragment,{children:a})}),me=function(e){e.data;return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)("div",{className:"row",children:[Object(S.jsx)("div",{className:"col",children:"Language:"}),Object(S.jsx)("div",{className:"col"})]}),Object(S.jsxs)("div",{className:"row",children:[Object(S.jsx)("div",{className:"col",children:"Change phone number:"}),Object(S.jsx)("div",{className:"col"})]}),Object(S.jsxs)("div",{className:"row",children:[Object(S.jsx)("div",{className:"col",children:"Set nick:"}),Object(S.jsx)("div",{className:"col"})]}),Object(S.jsxs)("div",{className:"row",children:[Object(S.jsx)("div",{className:"col",children:"Set city:"}),Object(S.jsx)("div",{className:"col"})]}),Object(S.jsxs)("div",{className:"row",children:[Object(S.jsx)("div",{className:"col",children:"Change password:"}),Object(S.jsx)("div",{className:"col"})]}),Object(S.jsxs)("div",{className:"row",children:[Object(S.jsx)("div",{className:"col",children:"User themes:"}),Object(S.jsx)("div",{className:"col"})]})]})},Oe=D()(Object(T.b)((function(e){return{user:e.user}}),null)((function(e){var t,a=Object(n.useState)({personal:!1,notification:!1,remove:!1,information:!1}),c=Object(w.a)(a,2),r=c[0],s=c[1],o=Object(n.useState)(null),l=Object(w.a)(o,2),d=l[0],u=l[1],j=function(e){var t;d&&d.classList.remove("active");var a=Object(i.a)({},r);a[null===d||void 0===d||null===(t=d.dataset)||void 0===t?void 0:t.selected]=!1,a[e.target.dataset.selected]=!0,s(Object(i.a)({},a)),e.target.classList.add("active"),u(e.target)};return Object(S.jsxs)("div",{children:[Object(S.jsxs)("div",{className:"settings_header",children:[Object(S.jsxs)("ul",{className:"d-flex justify-content-between",children:[Object(S.jsx)("li",{children:Object(S.jsx)("div",{"data-selected":"information",className:"settings_title",onClick:function(e){j(e)},children:"Personal_information"})}),Object(S.jsx)("li",{children:Object(S.jsx)("div",{"data-selected":"personal",className:"settings_title",onClick:function(e){j(e)},children:"Personal_settings"})}),Object(S.jsx)("li",{children:Object(S.jsx)("div",{"data-selected":"notification",className:"settings_title",onClick:function(e){j(e)},children:"Account_notification"})}),Object(S.jsx)("li",{children:Object(S.jsx)("div",{"data-selected":"remove",className:"settings_title",onClick:function(e){j(e)},children:"Account_remove"})})]}),Object(S.jsx)("hr",{})]}),d?null:Object(S.jsx)("div",{className:"d-flex justify-content-center",children:"Please select setting category"}),Object(S.jsxs)("div",{className:"settings_extended_".concat(r.remove),children:[Object(S.jsxs)("div",{className:"d-flex",children:[Object(S.jsx)("input",{type:"password",className:"settings_extended_input"}),Object(S.jsx)("button",{className:"btn btn-danger settings_extended_button",children:"Remove account"})]}),Object(S.jsx)("br",{}),Object(S.jsx)("span",{children:"For removing account enter password for confirmation"})]}),Object(S.jsxs)("div",{className:"settings_extended_".concat(r.notification),children:[Object(S.jsxs)("div",{className:"row settings_extended-row",children:[Object(S.jsx)("div",{className:"col-4",children:Object(S.jsx)("button",{className:"btn btn-primary",children:"Subscribe on our mailing"})}),Object(S.jsx)("div",{className:"col",children:"Disabled"})]}),Object(S.jsxs)("div",{className:"row settings_extended-row",children:[Object(S.jsx)("div",{className:"col-4",children:Object(S.jsx)("button",{className:"btn btn-primary",children:"Advertising mailing"})}),Object(S.jsx)("div",{className:"col",children:"Disabled"})]}),Object(S.jsxs)("div",{className:"row settings_extended-row",children:[Object(S.jsx)("div",{className:"col-4",children:Object(S.jsx)("button",{className:"btn btn-primary",children:"Personal suggests"})}),Object(S.jsx)("div",{className:"col",children:"Disabled"})]})]}),Object(S.jsx)("div",{className:"settings_extended_".concat(r.personal),children:Object(S.jsx)(me,{data:e.user})}),Object(S.jsxs)("div",{className:"row settings_extended_".concat(r.information),children:[Object(S.jsx)("div",{className:"col-4",children:Object(S.jsx)("div",{className:"settings_extended-huge_image",children:Object(S.jsx)(B,{})})}),Object(S.jsx)("div",{className:"col-8",children:Object(S.jsx)(he,{data:e.user})})]}),d&&"remove"!==(null===d||void 0===d||null===(t=d.dataset)||void 0===t?void 0:t.selected)?Object(S.jsx)("button",{className:"btn btn-success settings_extended-save_button",children:"Save changes"}):null]})}))),pe=function(e){return e?Object(S.jsxs)(y.a,{children:[Object(S.jsx)(U,{}),Object(S.jsx)("div",{className:"container",children:Object(S.jsxs)("div",{className:"row justify-content-around mt-3",children:[Object(S.jsx)("div",{className:"col-3",children:Object(S.jsx)(V,{credentials:e})}),Object(S.jsxs)("div",{className:"col-9 right_bar",children:[Object(S.jsx)(_.b,{path:"/movie_detail/:id",exact:!0,render:be}),Object(S.jsx)(_.b,{path:"/random_movie/:id",exact:!0,render:be}),Object(S.jsx)(_.b,{path:"/genres",exact:!0,render:je}),Object(S.jsx)(_.b,{path:"/genre/:page/:id",exact:!0,render:ue}),Object(S.jsx)(_.b,{path:"/search/:page/:id",exact:!0,render:le}),Object(S.jsx)(_.b,{path:"/popular/:page",exact:!0,render:de}),Object(S.jsx)(_.b,{path:"/favorite",exact:!0,render:oe}),Object(S.jsx)(_.b,{path:"/settings",exact:!0,render:Oe}),Object(S.jsx)(_.a,{to:"/popular/1"})]})]})})]}):Object(S.jsxs)(y.a,{children:[Object(S.jsx)(U,{}),Object(S.jsx)("div",{className:"container",children:Object(S.jsxs)("div",{className:"row justify-content-around mt-3",children:[Object(S.jsx)("div",{className:"col-3 left-bar",children:Object(S.jsx)(V,{credentials:e})}),Object(S.jsx)("div",{className:"col-9 right-bar",children:Object(S.jsxs)(_.d,{children:[Object(S.jsx)(_.b,{path:"/popular/:page",exact:!0,render:de}),Object(S.jsx)(_.b,{path:"/favorite",exact:!0,render:oe}),Object(S.jsx)(_.b,{path:"/movie_detail/:id",exact:!0,render:be}),Object(S.jsx)(_.b,{path:"/random_movie/:id",exact:!0,render:be}),Object(S.jsx)(_.b,{path:"/genres",exact:!0,render:je}),Object(S.jsx)(_.b,{path:"/genre/:page/:id",exact:!0,render:ue}),Object(S.jsx)(_.b,{path:"/search/:page/:id",exact:!0,render:le}),Object(S.jsx)(_.b,{path:"/authentication",exact:!0,render:I}),Object(S.jsx)(_.b,{path:"/registration",exact:!0,render:M}),Object(S.jsx)(_.a,{to:"/popular/1"})]})})]})})]})},ve=function(){var e=Object(n.useState)(null),t=Object(w.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(null),s=Object(w.a)(r,2),i=s[0],o=s[1],l="user",d=(new x).request,u=Object(n.useCallback)((function(e,t){return d("https://yermolaiev-movie-db.herokuapp.com/api/remove-favorite","POST",{movie:t},{credentials:"bearer ".concat(e)})}),[d]),j=Object(n.useCallback)((function(e,t){return d("https://yermolaiev-movie-db.herokuapp.com/api/add-favorite","POST",{movie:t},{credentials:"bearer ".concat(e)})}),[d]),b=Object(n.useCallback)((function(e){return d("https://yermolaiev-movie-db.herokuapp.com/api/get-favorite","GET",null,{credentials:"bearer ".concat(e)})}),[d]),h=Object(n.useCallback)((function(e,t){c(e),o(t),localStorage.setItem(l,JSON.stringify({token:e,id:t}))}),[]),m=Object(n.useCallback)((function(){c(null),o(null),localStorage.clear()}),[]);return Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem(l));(null===e||void 0===e?void 0:e.token)&&(null===e||void 0===e?void 0:e.id)&&h(e.token,e.id)}),[h]),{login:h,logout:m,id:i,token:a,engineRemoveFavorite:u,engineAddFavorite:j,engineGetFavorite:b}},xe=function e(){var t=this;Object(p.a)(this,e),this.results={},this.schema={email:/[a-zA-Z0-9]+@[a-zA-Z0-9]+\.[a-zA-Z0-9]+/,password:/([a-zA-Z0-9]){6,}/g,phone:/^\+380[0-9]{9}$/,city:/[A-Za-z]{3,}/,nick:/[A-Za-z,0-9]{4,}/},this.test=function(e,a){return t.schema[e]?t.schema[e].test(a):t.schema.default.test(a)},this.validate=function(e,a){t.results={};for(var n=0,c=Object.entries(e);n<c.length;n++){var r=Object(w.a)(c[n],2),s=r[0],i=r[1];t.test(s,i)||(t.results[s]=t.mistakesDescription[s])}a(t.results)},this.mistakesDescription={email:"Incorrect email, please check it...Example 'youremail@provider.com'",password:"Password is not correct,use letters and digits. Minimum 6 symbols.",nick:"Nickname must be longer 4 symbols, can contain letters and digits",city:"City length must be more 2 letters",phone:"Phone not correct, it should be like example - +380442233444"}},fe=function(){var e=Object(i.a)({},ve()),t=pe(null!==e.token&&null!==e.id);return Object(S.jsx)("div",{className:"container-fluid",children:Object(S.jsx)(T.a,{store:b,children:Object(S.jsx)(N,{value:e,children:t})})})};s.a.render(Object(S.jsx)(fe,{}),document.getElementById("root"))}},[[53,1,2]]]);
//# sourceMappingURL=main.3125557b.chunk.js.map