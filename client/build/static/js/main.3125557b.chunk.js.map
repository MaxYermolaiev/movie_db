{"version":3,"sources":["redux-store/reduser.js","redux-store/store.js","Engine/Engine.js","Engine/Context.js","Engine/Wrapper.js","redux-store/action.js","Pages/Authentication/Auth.js","Pages/Authentication/Registration.js","Pages/Auxilary/AccountImage/AccountImage.js","Pages/Header/Header.js","Pages/SideBar/SideBar.js","Pages/Auxilary/Loading/Loading.SVG","Pages/Auxilary/Loading/Loading.js","Pages/Auxilary/ErrorPage/ErrorPage.js","Pages/Auxilary/Pagination/Pagination.js","Pages/MovieList/ItemList/Genres/DisplayGenres.js","Pages/MovieList/ItemList/DisplayItemList.js","Pages/MovieList/MovieCards/MovieCardSmall.js","Pages/MovieList/ItemList/ItemList.js","Pages/MovieList/MovieCards/ItemCardDetails.js","Pages/MovieList/MovieCards/RecomendationCard.js","Pages/MovieList/MovieItem/MovieDetails.js","Pages/Auxilary/Buttons/Buttons.js","Pages/MovieList/MyFavorite/DisplayFavorite.js","Pages/MovieList/MyFavorite/FetchFavorite.js","Pages/MovieList/Fork.js","Pages/Auxilary/AccountSetings/AccountSettings.js","Engine/ApiRouter.js","Engine/AuthentificationEngine.js","Engine/Validator.js","App.js","index.js"],"names":["initialState","movies","loading","errors","user","find","id","movieStore","index","i","length","reduser","state","action","type","payload","push","temp","slice","store","createStore","Engine","api_key","path","request","url","a","method","body","headers","transformToJSON","fetch","response","ok","console","log","json","credentials","err","Error","getImg","getPopularMovies","page","getBySearch","search","getByGenre","getMovieDetails","getRecommendations","value","JSON","stringify","React","createContext","Consumer","Provider","engine","Wrapper","MethodsServise","Wraped","props","authMethods","methods","FETCH_MOVIE_ERROR","error","ErrorBoundary","ErrorExist","errorInfo","this","setState","children","Component","connect","dispatch","setUserData","data","useState","showAid","setShowAid","email","password","form","setForm","validationErrors","setValidationError","passwordRef","useRef","history","useHistory","validator","Validator","useEffect","validate","className","htmlFor","placeholder","onBlur","e","target","ref","onChange","checked","current","onClick","preventDefault","Object","keys","then","user_data","login","jwt","catch","city","phone","nick","success","status","setStatus","counter","setCounter","interval","setInterval","setTimeout","clearInterval","name","userImg","focusable","role","xmlns","viewBox","fill","d","AccountImage","src","buttons","setButtons","searchResults","setSearchResults","inputRef","eventEmitter","setEventEmitter","controller","blurEvent","isBlured","document","addEventListener","model","clearResults","handleType","clearInput","init","handleResults","results","map","item","original_title","View","event","buttonAuthHandler","logout","token","Fragment","onFocus","style","width","disabled","ownProps","engineGetFavorite","getFavoriteMovie","getFavorite","UserStorage","FETCH_MOVIE","random","min","max","Math","trunc","to","Loading","ico","alt","ErrorPage","message","Pagination","current_page","total_page","itteractingWithPage","paginations","setPaginations","newArr","arr","shift","sort","b","createPagination","GenresCategorie","setData","getData","genres","DisplayItems","getParamsPage","match","params","fetchData","prevProps","prevState","total_pages","MovieCardSmall","height","poster_path","overview","substring","vote_average","handleToDetail","movie_data","ItemList","toRender","setToRender","render","transformData","ItemCardDetails","title","release_date","backdrop_path","budget","revenue","popularity","runtime","production_companies","adult","original_language","RecomendationCard","recommendations","getImage","dataToRender","setDataToRender","result","itemId","MovieDetails","onError","getId","urls","Promise","all","forEach","el","snapshot","movie_id","withRouter","engineRemoveFavorite","engineAddFavorite","removeFromFavorite","REMOVE_MOVIE","DELETE_MOVIE_FROM_FAVORITE","addToFavorite","ADD_MOVIE_TO_FAVORITE","add","remove","buttonState","setButtonState","changeButton","undefined","idx","DisplayFavorite","renderItem","ShowFavorite","FetchFavorite","SearchMovies","PopularMovies","GenresMovies","GenresCategories","MovieDetail","RenderPersonalData","entries","itm","ChangePersonalData","personal","notification","information","displayed","setDisplayed","selectedElement","setSelectedElement","setSelected","classList","dataset","selected","ApiRouter","exact","AccountSettings","Auth","Registration","AuthentificationEngine","setToken","setId","storeName","useCallback","movieData","movie","localStorage","setItem","clear","localStorageData","parse","getItem","schema","test","key","default","resultsSetter","mistakesDescription","App","apiRouter","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.3125557b.chunk.js","sourcesContent":["let initialState = {movies: [], loading: true, errors: null, user:{}}\r\nconst find=(id,movieStore)=>{\r\n    let index=-1;\r\n    for(let i=0;i<movieStore.length;i++){\r\n        if(movieStore[i].id === id){\r\n            index=i;\r\n        }\r\n    }\r\n    return index;\r\n}\r\nconst reduser = ( state=initialState,action)=>{\r\n          switch (action.type) {\r\n              case('FETCH_MOVIE_REQUEST'):return {...state, loading:true, errors:null};\r\n              case('FETCH_MOVIE_LOADED'):return {...state,movies: action.payload, loading:false, errors:null};\r\n              case('FETCH_MOVIE_ERROR'):return {...state,movies: state.movies, loading:false, errors:action.payload};\r\n              case ('ADD_MOVIE'): {\r\n                  let movies = state.movies;\r\n                  movies.push(action.payload);\r\n                  const temp ={ ...state, errors:null, movies:movies,loading: false};\r\n                  return temp;}\r\n              case ('REMOVE_MOVIE'): {\r\n                  let index = find(action.payload.id,state.movies);\r\n                  let temp = {...state,errors:null,loading: false, movies:[...state.movies.slice(0, index), ...state.movies.slice(index + 1)]};\r\n                  return temp;\r\n              }\r\n              case ('FETCH_USER_DATA'): {\r\n                  let temp = {...state,user:action.payload};\r\n                  return temp;\r\n              }\r\n              case ('REMOVE_USER_DATA'): {\r\n                  let temp = { ...state, user:{}};\r\n                  return temp;\r\n              }\r\n              default:return state;\r\n          }\r\n}\r\nexport default reduser\r\n","import {createStore} from 'redux'\r\nimport reduser from \"./reduser\";\r\nconst store = createStore(reduser)\r\nexport default store;","export default class Engine {\r\n    //Memorize constants\r\n    api_key=\"39a8f3cf691a2a2d1a329867c1095d19\";\r\n    path = \"https://api.themoviedb.org/3/\";\r\n\r\n    request = async (url, method = \"GET\", body = null, headers = {}) => {\r\n        headers['Content-type'] = 'application/json';\r\n        try {\r\n            //if body exist and server true send request to DB(login, registration, tune the favorite movie which save in mongo db\r\n            if (body !== null){\r\n                    method=\"POST\";\r\n                    body = this.transformToJSON(body);\r\n                let response = await fetch(url, {method, body, headers});\r\n                //tune and dispatch request with data\r\n                if (!response.ok) {\r\n                    console.log(\"Trouble in server side\")\r\n                    let err = await response.json();\r\n                    throw err.errors;\r\n                }else{\r\n                    return await response.json();\r\n                }\r\n            }else if (headers.credentials){\r\n                method=\"GET\";\r\n                let response = await fetch(url, {method, body, headers});\r\n                //tune and dispatch request with data\r\n                if (!response.ok) {\r\n                    console.log(\"Trouble in server side\")\r\n                    let err = await response.json();\r\n                    throw err.errors;\r\n                }else{\r\n                    return await response.json();\r\n                }\r\n            }else{\r\n                //else request must redirect to movie db\r\n                let response = await fetch(`${this.path}${url}`);\r\n                //tune and dispatch request with data\r\n                if (!response.ok) {\r\n                    console.log(\"can't fetch response\");\r\n                    let err = await response.json();\r\n                    throw new Error(err.errors);\r\n                }\r\n                return await response.json();\r\n            }\r\n        } catch (e) {throw e}\r\n    }\r\n    transformToJSON(value) {return JSON.stringify(value)};\r\n    getImg=(id)=>{return `https://www.themoviedb.org/t/p/w300_and_h450_bestv2${id}`};\r\n    getPopularMovies = async (page) => {\r\n        //search data by required url and transform data - get only required info\r\n        return await this.request(`movie/popular?api_key=${this.api_key}&language=en-US&page=${page}`);\r\n    };\r\n    getBySearch = async (page,search) => {\r\n        //search data by required url and query params and transform data - get only required info\r\n        if(search&&page){return await this.request(`search/movie?api_key=${this.api_key}&language=en-US&query=${search}&page=${page}`);}\r\n        return await this.request(`search/movie?api_key=${this.api_key}&language=en-US&query=${search}`);\r\n    }\r\n    getByGenre = async (page,search) => {\r\n        //search data by required url and transform data - get only required info\r\n        if(search&&page){\r\n            return await this.request(`discover/movie?api_key=${this.api_key}&language=en-US&&include_adult=false&&page=${page}&with_genres=${search}`);\r\n        }\r\n       return await this.request(`genre/movie/list?api_key=${this.api_key}&language=en-US`);\r\n    }\r\n    getMovieDetails = async (id) => {\r\n        //search data by required url and transform data - get only required info\r\n        return await this.request(`movie/${id}?api_key=${this.api_key}&language=en-US`);\r\n    }\r\n    getRecommendations = async (id) => {//search data by required url and transform data - get only required info\r\n        return await this.request(`movie/${id}/recommendations?api_key=${this.api_key}&language=en-US&language=en-US&page=1`);\r\n    }\r\n}\r\n","import React from 'react';\r\nconst {Consumer,Provider} = React.createContext();\r\nexport {Consumer,Provider};","import React from \"react\";\r\nimport {Consumer, Engine} from \"./index\";\r\n//to apply store, engine, auth methods in required component\r\n//feed it to higher order components\r\nconst engine = new Engine()\r\n\r\nlet Wrapper = (MethodsServise) => (Wraped)=> {\r\n    return (props) => {\r\n        return (\r\n            <Consumer>\r\n                {(authMethods) => {\r\n                const methods = (MethodsServise) ? {...MethodsServise(engine),engine,...authMethods}:{...authMethods,engine};\r\n                return (<Wraped {...props} { ...methods}/>);\r\n                 }}\r\n            </Consumer>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Wrapper;\r\n\r\n\r\n\r\n\r\n","let FETCH_MOVIE_REQUEST = ()=>{return{type:'FETCH_MOVIE_REQUEST'}};\r\nlet FETCH_MOVIE_LOAD = (movies)=>{return{type:'FETCH_MOVIE_LOADED', payload:movies}};\r\nlet FETCH_MOVIE_ERROR = (error)=>{return{type:'FETCH_MOVIE_ERROR', payload:error}};\r\nlet ADD_MOVIE = (data)=>{return{type:'ADD_MOVIE', payload:data}};\r\nlet REMOVE_MOVIE = (data)=>{return{type:'REMOVE_MOVIE', payload:data}};\r\nlet FETCH_MOVIE=(token,getFavorite,dispatch)=> {\r\n    dispatch(FETCH_MOVIE_REQUEST());\r\n    getFavorite(token)\r\n        .then((data) => {\r\n            dispatch(FETCH_MOVIE_LOAD(data.UserStorage));\r\n        })\r\n        .catch((err) => {\r\n            dispatch(FETCH_MOVIE_ERROR(err));\r\n        });\r\n}\r\nlet DELETE_MOVIE_FROM_FAVORITE=(token,engineRemoveFavorite,dispatch,data)=> {\r\n    dispatch(FETCH_MOVIE_REQUEST());\r\n    dispatch(REMOVE_MOVIE(data));\r\n    engineRemoveFavorite(token,data)\r\n        .then((data) => {\r\n            console.log(data);\r\n        })\r\n        .catch((err) => {\r\n            dispatch(FETCH_MOVIE_ERROR(err))\r\n        })\r\n}\r\nlet ADD_MOVIE_TO_FAVORITE=(token,engineAddFavorite,dispatch,movie_data)=> {\r\n    dispatch(FETCH_MOVIE_REQUEST());\r\n    dispatch(ADD_MOVIE(movie_data));\r\n    engineAddFavorite(token,movie_data)\r\n        .then((data) => {console.log(data)})\r\n        .catch((err) => {\r\n            dispatch(FETCH_MOVIE_ERROR(err));\r\n        })\r\n}\r\nconst REMOVE_USER_DATA =()=>{\r\n    return {type:'REMOVE_USER_DATA'};\r\n}\r\nconst FETCH_USER_DATA =(user_data)=>{\r\n    return {type:'FETCH_USER_DATA', payload:user_data}\r\n}\r\n    export {REMOVE_USER_DATA,FETCH_USER_DATA,FETCH_MOVIE,ADD_MOVIE_TO_FAVORITE,DELETE_MOVIE_FROM_FAVORITE}\r\n","import React, {useState, useEffect, Component, useRef} from 'react';\r\nimport Wrapper from \"../../Engine/Wrapper\";\r\nimport {Validator} from \"../../Engine/index\";\r\nimport {useHistory} from \"react-router\";\r\nimport {ErrorPage} from \"../index\";\r\nimport \"./AuthStyles.css\";\r\nimport {connect} from \"react-redux\";\r\nimport {FETCH_USER_DATA} from \"./../../redux-store/action\";\r\nclass ErrorBoundary extends Component {\r\n    state = {ErrorExist: false}\r\n    componentDidCatch(error, errorInfo) {this.setState({ErrorExist: !this.state.ErrorExist})}\r\n    render() {\r\n        if (this.state.ErrorExist) {return <ErrorPage/>}\r\n        return this.props.children;\r\n    }\r\n}\r\n\r\nconst Auth=(props)=>{\r\n    const [showAid,setShowAid] = useState(false);\r\n    const [form,setForm] = useState({email:\"\",password:\"\"});\r\n    const [validationErrors,setValidationError] = useState({});\r\n    const passwordRef = useRef();\r\n    const history=useHistory();\r\n    const validator= new Validator();\r\n\r\n    useEffect(()=>{validator.validate(form,setValidationError);},[form]);\r\n\r\n    const handleSubmit=(e)=>{\r\n        e.preventDefault();\r\n        setShowAid(true);\r\n        validator.validate(form,setValidationError);\r\n        if(Object.keys(validationErrors).length)return;\r\n\r\n        props.engine.request(\"https://yermolaiev-movie-db.herokuapp.com/api/login\",\"POST\",form,{})\r\n        .then(data=>{\r\n            console.log(data)\r\n            props.setUserData(data.user_data);\r\n            props.login(data.jwt,data.id);\r\n            history.push(\"/popular/1\");\r\n            }\r\n        ).catch((err)=>{\r\n            if(err.email)setValidationError({...validationErrors,email:err.email});\r\n            if(err.password)setValidationError({...validationErrors,password:err.password});\r\n            })\r\n    }\r\n\r\n    return(\r\n      <ErrorBoundary>\r\n       <div className=\"auth-box\">\r\n        <form>\r\n            <fieldset>\r\n                <legend ><h4 className={\"text-secondary fw-bold\"}>User authentication</h4></legend>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"exampleInputEmail1\" className=\"form-label mt-3 fst-italic\">Email address</label>\r\n                    <input type=\"email\" className=\"form-control auth-input\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\"\r\n                           placeholder=\"Enter email\" onBlur={(e)=>setForm({...form,email:e.target.value})}/>\r\n                    <small className=\"auth-error text-danger fst-italic\">{validationErrors?.email&&showAid?validationErrors.email:null}</small>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"exampleInputPassword1\" className=\"form-label mt-4 fst-italic\">Password</label>\r\n                    <input type=\"password\" ref ={passwordRef} className=\"form-control auth-input\" id=\"exampleInputPassword1\" placeholder=\"Password\" onBlur={(e)=> setForm({...form, password: e.target.value}) }/>\r\n                    <p><input type={\"checkbox\"} onChange={(e)=> e.target.checked ? passwordRef.current.type='text' : passwordRef.current.type='password'}/> Show password</p>\r\n                    <small className=\"auth-error text-danger fst-italic\">{validationErrors?.password&&showAid?validationErrors.password:null}</small>\r\n                </div>\r\n                <button type=\"submit\" className=\"btn btn-primary btn-registration mt-3\" onClick={handleSubmit}>Submit</button>\r\n            </fieldset>\r\n        </form>\r\n       </div>\r\n     </ErrorBoundary>\r\n    )\r\n}\r\n\r\nconst mapDispatchToProps=(dispatch)=> {\r\n   return {\r\n        setUserData:(data)=> {\r\n            dispatch(FETCH_USER_DATA(data))\r\n        }\r\n    }\r\n};\r\n\r\nexport default Wrapper()(connect(null,mapDispatchToProps)(Auth));\r\n\r\n\r\n\r\n","import React, {useEffect, useState,Component} from \"react\";\r\nimport Wrapper from \"../../Engine/Wrapper\";\r\nimport {Validator} from \"../../Engine/index\";\r\nimport {ErrorPage} from \"../index\";\r\nimport {useHistory} from \"react-router\";\r\nimport \"./AuthStyles.css\";\r\n\r\nclass ErrorBoundary extends Component {\r\n    state = {ErrorExist: false};\r\n    componentDidCatch(error, errorInfo) {this.setState({ErrorExist: !this.state.ErrorExist})};\r\n    render() {\r\n        if (this.state.ErrorExist) {return <ErrorPage/>};\r\n        return this.props.children;\r\n    };\r\n}\r\n\r\nfunction Registration(props){\r\n    const [showAid,setShowAid] = useState(false);\r\n    const [form,setForm] = useState({email:\"\",password:\"\",city:\"\",phone:\"\",nick:\"\"});\r\n    const [validationErrors,setValidationError] = useState({});\r\n    const [status,setStatus] = useState({loading:false,success:false});\r\n    const [counter,setCounter] = useState(6);\r\n    const validator = new Validator();\r\n    const history=useHistory();\r\n\r\n    useEffect(()=>{validator.validate(form,setValidationError);},[form]);\r\n\r\n    const handleSubmit=(e)=> {\r\n        e.preventDefault();\r\n        setStatus({...status, loading: true});\r\n        setShowAid(true);\r\n        validator.validate(form,setValidationError);\r\n        if(Object.keys(validationErrors).length)return;\r\n\r\n        props.engine.request(\"https://yermolaiev-movie-db.herokuapp.com/api/registration\", \"POST\", form)\r\n            .then(() => {\r\n                setStatus({ success: true, loading: false});\r\n            })\r\n            .catch(err => {\r\n                setValidationError(err);\r\n                setStatus({...status,  loading: false});\r\n            })\r\n    }\r\n\r\n    if(status.success){\r\n            let interval = setInterval(()=> {\r\n                setCounter(()=>counter- 1);\r\n                if(counter===0){history.push(\"/authentication\")};\r\n            },1000);\r\n            setTimeout(()=>clearInterval(interval),6000);\r\n        return(\r\n        <>\r\n            <h1>New user successfully created</h1>\r\n            <h3>{`You will be redirected to login page via ${counter} seconds...`}</h3>\r\n        </>)\r\n    }\r\n    return(\r\n        <div id=\"auth-box\">\r\n            <div className={`shadow-loading ${status.loading}`}>\r\n                <div className=\"lds-default\">\r\n                    <div></div>\r\n                    <div></div>\r\n                    <div></div>\r\n                    <div></div>\r\n                    <div></div>\r\n                    <div></div>\r\n                    <div></div>\r\n                    <div></div>\r\n                    <div></div>\r\n                    <div></div>\r\n                    <div></div>\r\n                    <div></div>\r\n                </div></div>\r\n        <ErrorBoundary>\r\n        <form>\r\n            <fieldset>\r\n                <legend><h4 className={\"text-secondary fw-bold\"}>Registration new user</h4></legend>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"Email\" className=\"form-label mt-4 fst-italic fs-7\">Email address</label>\r\n                    <input type=\"email\" className=\"form-control auth-input\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\"\r\n                           placeholder=\"Enter email\"  onChange={(e)=>setForm({...form,email:e.target.value})}/>\r\n                    <small className=\"auth-error text-danger fst-italic\">{validationErrors?.email&&showAid?validationErrors.email:null}</small>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"Password\" className=\"form-label mt-2 fst-italic fs-7\">Password</label>\r\n                    <input type=\"password\" className=\"form-control auth-input\" id=\"exampleInputPassword1\" placeholder=\"Password\"\r\n                           onChange={(e)=>setForm({...form,password:e.target.value})}/>\r\n                    <small className=\"auth-error text-danger fst-italic\">{validationErrors?.password&&showAid?validationErrors.password:null}</small>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"Default\" className=\"col-form-label mt-2 fst-italic fs-7\">Type your native city</label>\r\n                    <input type=\"text\" className=\"form-control auth-input\" placeholder=\"Where are you from\" name=\"city_input\"\r\n                           onChange={(e)=>setForm({...form,city:e.target.value})}\r\n                    />\r\n                    <small className=\"auth-error text-danger fst-italic\">{validationErrors?.city&&showAid?validationErrors.city:null}</small>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label className=\"col-form-label mt-2 fst-italic\" htmlFor=\"inputDefault\">Type your number</label>\r\n                    <input type=\"text\" className=\"form-control auth-input\" placeholder=\"Phone number\" name=\"phone_input\"\r\n                           onChange={(e)=>setForm({...form,phone:e.target.value})}\r\n                    />\r\n                    <small className=\"auth-error text-danger fst-italic\">{validationErrors?.phone&&showAid?validationErrors.phone:null}</small>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label className=\"col-form-label mt-2 fst-italic\" htmlFor=\"inputDefault\">Type your nickname</label>\r\n                    <input type=\"text\" className=\"form-control auth-input\" placeholder=\"Nickname\" name=\"nickname_input\"\r\n                           onChange={(e)=>setForm({...form,nick:e.target.value})}/>\r\n                    <small className=\"auth-error text-danger fst-italic\">{validationErrors?.nick&&showAid?validationErrors.nick:null}</small>\r\n                </div>\r\n                <button type=\"submit\" className=\"btn btn-primary btn-registration mt-3\" onClick={handleSubmit}>Create account</button>\r\n            </fieldset>\r\n        </form>\r\n     </ErrorBoundary>\r\n    </div>\r\n       )\r\n}\r\n\r\nexport default Wrapper()(Registration);\r\n\r\n\r\n","import React from \"react\";\r\n\r\n\r\nlet userImg= <svg aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"user-circle\" role=\"img\"\r\n                  xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 496 512\"\r\n                  className=\"svg-inline--fa fa-user-circle fa-w-16 fa-3x\">\r\n    <path fill=\"currentColor\"\r\n          d=\"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z\"\r\n          className=\"\"></path>\r\n</svg>\r\n\r\nconst AccountImage = ({src}) => {\r\n        return (\r\n            <div>\r\n                {src?<img src={src}/>:userImg}\r\n            </div>\r\n        )\r\n};\r\n\r\nexport default AccountImage;\r\n","import React, {useEffect, useRef, useState} from \"react\";\r\nimport {useHistory} from \"react-router\";\r\nimport Wrapper from \"../../Engine/Wrapper\";\r\nimport AccountImage from \"../Auxilary/AccountImage/AccountImage\";\r\nimport \"./Header.css\";\r\nimport {connect} from \"react-redux\";\r\n\r\nconst Header=(props)=>{\r\n    const [buttons,setButtons]=useState(\"disabled\");\r\n    const [searchResults,setSearchResults] = useState([]);\r\n    const history = useHistory();\r\n    const inputRef = useRef();\r\n    const [eventEmitter,setEventEmitter] = useState({});\r\n\r\n    class Controller{\r\n        constructor(){\r\n            this.isBlured =null;\r\n        }\r\n        init(){document.addEventListener('click',(e)=> {\r\n            if(this.isBlured){\r\n                model.clearResults();\r\n                this.isBlured=false;\r\n            }\r\n        });\r\n        }\r\n        typeEvent(data){data.length>2? model.handleType(data): model.handleType();}\r\n        buttonPress(){\r\n            this.isBlured=false;\r\n            history.push(`/search/1/${(inputRef.current).value}`);\r\n            model.clearInput();\r\n            model.clearResults();\r\n        }\r\n        blurEvent=()=>{\r\n            this.isBlured=true;\r\n        }\r\n    }\r\n    let controller=new Controller();\r\n    controller.init();\r\n\r\n    const model={\r\n        handleType(data){\r\n           this.isBlured=false;\r\n           if(!data){\r\n               this.clearResults();\r\n               return;\r\n           }\r\n            props.engine.getBySearch(null,data)\r\n                .then(data=>this.handleResults({status:'success',data:data}))\r\n                .catch(error=>this.handleResults({status:'error',data:error}))\r\n        },\r\n        handleResults({status,data}){\r\n            if (status==='error'){\r\n                setButtons('disabled');\r\n                setSearchResults(<div className=\"p-2 bd-highlight\" key={1}>Sorry some error occurred</div>);\r\n            }\r\n            if (status==='success'&&data.results.length===0){\r\n                setSearchResults(<div className=\"p-2 bd-highlight\" key={1}>No result by your searching query, try another variant</div>);\r\n                setButtons('disabled');\r\n            }else{\r\n                let temp = data.results.map((item,index)=>{\r\n                    return(\r\n                        <div className=\"p-2 bd-highlight\" key={index} onClick={()=>{\r\n                            history.push(`/movie_detail/${item.id}`);\r\n                            this.clearResults();\r\n                            this.clearInput();\r\n                        }}>{item.original_title}</div>)\r\n                });\r\n                setSearchResults([...temp]);\r\n                setButtons('');\r\n            }\r\n        },\r\n        clearInput(){\r\n            (inputRef.current).value='';\r\n        },\r\n        clearResults(){\r\n            setButtons('disabled');\r\n            setSearchResults([]);\r\n        }\r\n    }\r\n\r\n    const View = (event) => {\r\n        event.type === 'change' ? setEventEmitter({type:'typeEvent', value:event.target.value}) :\r\n        event.type === 'blur'?setEventEmitter({type:'blurEvent'}):\r\n                              setEventEmitter({type: 'buttonPress', value: (inputRef.current).value});\r\n    };\r\n    useEffect(()=> {if(eventEmitter.type){controller[eventEmitter.type](eventEmitter.value)};},[eventEmitter]);\r\n    //View part end. Item will be displayed via model 'models'.\r\n\r\n\r\n    //Authentication handlers\r\n    const buttonAuthHandler = (e,event) => {\r\n    if(event===\"logout\"){props.logout();history.push(\"/\");}\r\n    if(event===\"login\"){history.push(\"/authentication\");}\r\n    if(event===\"register\"){history.push(\"/registration\");}\r\n    }\r\n        return (\r\n            <nav className=\"navbar navbar-expand-sm navbar-light bg-light\">\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"collapse navbar-collapse\" id=\"navbarColor03\">\r\n                        <ul className=\"navbar-nav me-auto\">\r\n                            {\r\n                                (!props.id&&!props.token)?<div className={\"header-button\"}>\r\n                                    Hello stranger! You can\r\n                                    <span className={\"header_registration_links\"} onClick={(e)=>buttonAuthHandler(e,\"login\")}> Login</span> or\r\n                                    <span className={\"header_registration_links\"} onClick={(e)=>buttonAuthHandler(e,\"register\")}> Create new one!</span>\r\n                                </div> : <React.Fragment>\r\n                                    <div className={'header_small_image'}>\r\n                                    <AccountImage/>\r\n                                    </div>\r\n                                    <div className={'d-flex align-items-center header_settings greeting'}><i>{`Hi, ${props?.user?.nick}!`}</i></div>\r\n                                    <div className={'d-flex align-items-center header_settings'}>Settings\r\n                                    <div className={'header_settings-list'}>\r\n                                        <div onClick={(e)=>history.push(\"/favorite\")}>Favorite</div>\r\n                                        <div onClick={(e)=>history.push(\"/settings\")}>Personal settings</div>\r\n                                        <div onClick={(e)=>buttonAuthHandler(e,\"logout\")}>Logout</div>\r\n                                    </div>\r\n\r\n                                    </div>\r\n                                </React.Fragment>}\r\n                        </ul>\r\n                        <form className=\"d-flex\" onBlur={View}>\r\n                            <input className=\"search-input\" data-toggle=\"dropdown\" type=\"text\" ref={inputRef} placeholder=\"Movie search\"\r\n                                   onChange={(e)=>View(e,e.target.value)}\r\n                                   onFocus={(e)=>{e.target.style.width=300+'px'}}\r\n                                   onBlur={(e)=>{e.target.style.width=150+'px'}}\r\n                            />\r\n                            <button className=\"btn btn-success my-2 my-sm-0 btn-search\" type=\"button\" disabled={buttons} onClick={(e)=>View(e)}>Search</button>\r\n                            <div className=\"d-flex flex-column bd-highlight pos-absolute\">\r\n                                    {searchResults}\r\n                                </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </nav>\r\n        )\r\n    }\r\n\r\nconst mapStateToProps =({user})=> {return{user}};\r\n\r\nexport default Wrapper()(connect(mapStateToProps,null)(Header))","import React, {useEffect} from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\nimport Wrapper from \"../../Engine/Wrapper\";\r\nimport {useHistory} from \"react-router-dom\"\r\nimport \"./SideBar.css\"\r\nimport {connect} from \"react-redux\";\r\nimport {FETCH_MOVIE} from \"../../redux-store/action\";\r\n\r\nconst SideBar = (props) => {//if token exist fetch favorite from request\r\n    useEffect(function(){if(props.token)props.getFavoriteMovie()},[props.token]);\r\n\r\n    const history = useHistory();\r\n    const generateId=()=>{\r\n        props.engine.getPopularMovies(random(1,500))\r\n            .then(data=> {\r\n                let temp = `/random_movie/${data.results[random(0, 19)].id}`\r\n                history.push(temp);\r\n            })\r\n            .catch(err=>console.log(err));\r\n    }\r\n    const random=(min,max)=> { return Math.trunc(Math.random() * (max - min) + min)}\r\n    return (\r\n        <ul className=\"list-group\">\r\n            <li className=\"SideBar_item\" onClick={generateId}><span className=\"sideBarText\">Random movie</span></li>\r\n            <li className=\"SideBar_item\"><Link to={\"/popular/1\"}><span className=\"sideBarText\">Popular</span></Link></li>\r\n            <li className=\"SideBar_item\"><Link to={\"/genres\"}><span className=\"sideBarText\">Genres</span></Link></li>\r\n            {\r\n                (props.credentials) ?\r\n                    <>\r\n                        <li className=\"SideBar_item\"><Link to={\"/favorite\"}><span className=\"sideBarText\">Favorite</span></Link></li>\r\n                        <li className=\"SideBar_item\"><Link to={\"/settings\"}><span className=\"sideBarText\">Account settings</span></Link></li>\r\n                    </> : <>\r\n\r\n                        <li className=\"SideBar_item_disabled\"><span className=\"sideBarText_disabled\">Favorite</span></li>\r\n                        <li className=\"SideBar_item_disabled\"><span className=\"sideBarText_disabled\">Account settings</span></li>\r\n                    </>\r\n            }\r\n        </ul>\r\n    )\r\n}\r\nconst mapDispatchToProps = (dispatch, ownProps) => {\r\n    const {token,engineGetFavorite} = ownProps;\r\n    return {getFavoriteMovie:()=>FETCH_MOVIE(token,engineGetFavorite,dispatch)}}\r\nexport default Wrapper()(connect(null,mapDispatchToProps)(SideBar));\r\n","export default __webpack_public_path__ + \"static/media/Loading.d1912aee.SVG\";","import React from \"react\";\r\nimport ico from'./Loading.SVG';\r\n\r\nexport default function Loading() {\r\nreturn(\r\n    <div className={'d-flex justify-content-center'}>\r\n        <img src={ico} alt=\"error icon\"/>\r\n    </div>\r\n)\r\n}","import React from \"react\";\r\n\r\nconst ErrorPage = (props) => {\r\n    return (\r\n        <div className=\"row d-flex\">\r\n            <div className={\"row\"}>\r\n                <h1>Some terrify error occurred</h1>\r\n                <h3>{`Error details: ${props?.message}`}</h3>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\nexport default ErrorPage","import React,{useState,useEffect} from \"react\";\r\nimport \"./Pagination.css\";\r\n\r\nexport default function Pagination({current_page,total_page,itteractingWithPage}){\r\n    const [paginations,setPaginations] = useState([])\r\n\r\n    const createPagination=()=>{\r\n        let arr=[];\r\n        //2 type of offset\r\n        //1- from beginning next from end\r\n        if (total_page===1) {\r\n            return [current_page];\r\n        }\r\n        for(let i=current_page;i>=current_page-2;i--){\r\n            arr.push(i);\r\n            if(i===1)break;\r\n        }\r\n        let shift = 3-arr.length;\r\n        if(shift===0){\r\n            for(let i=current_page+1;i<=current_page+2;i++){\r\n                arr.push(i);\r\n            if(i===total_page)break;\r\n        }}else{\r\n            for(let i=current_page+1;i<=current_page+2+shift;i++) {\r\n                arr.push(i);\r\n                if (i === total_page) break;\r\n            }\r\n        }\r\n     return arr.sort((a,b)=>a-b)}\r\n\r\n    useEffect(()=>{\r\n        if(current_page&&total_page){\r\n            const arr = createPagination();\r\n            const newArr = arr.map((item,index)=>{\r\n                if(item===current_page){\r\n                    return(\r\n                        <li className=\"page-item active m-2\" key={index} onClick={()=>itteractingWithPage(item)}>\r\n                            <span className=\"page-link\">{item}</span>\r\n                        </li>\r\n                    )\r\n                }\r\n                return(\r\n                    <li className=\"page-item m-2\" key={index} onClick={()=>itteractingWithPage(item)}>\r\n                        <span className=\"page-link\">{item}</span>\r\n                    </li>\r\n                )\r\n            })\r\n            setPaginations([...newArr]);\r\n                }\r\n    },[current_page,total_page]);\r\n\r\n    return(\r\n        <div>\r\n        <ul className=\"pagination\">\r\n            {paginations}\r\n        </ul>\r\n    </div>\r\n    )\r\n}\r\n\r\n\r\n","import React, {useState, useEffect, Component} from \"react\";\r\nimport {useHistory} from \"react-router\";\r\nimport {Loading, ErrorPage} from \"../../../index\";\r\nimport \"./DisplayGenres.css\"\r\n\r\n//error boundary for prevend bug and display error page\r\nclass ErrorBoundary extends Component {\r\n    state = {ErrorExist: false};\r\n    componentDidCatch(error, errorInfo) {this.setState({ErrorExist: !this.state.ErrorExist})};\r\n    render() {if (this.state.ErrorExist) {return <ErrorPage/>}return this.props.children;}};\r\n\r\nlet GenresCategorie = (props) => {\r\n    const [data, setData] = useState({data: false, loading: false, error: false});\r\n    const history = useHistory();\r\n    //all time in render need only one time to update render page, so recieve list and render it\r\n    useEffect(() => {\r\n        setData({data: false, loading: true, error: false});\r\n        props.getData()\r\n            .then((data) => {\r\n                let temp = data.genres.map((item, index) => {\r\n                    return (\r\n                        <div className={\"col genres_item\"} key={index}>\r\n                              <h5 className=\"card-title genres-card fst-italic\"\r\n                                   onClick={() => history.push(`/genre/1/${item.id}`)}>{item.name}\r\n                             </h5>\r\n                        </div>\r\n                    )\r\n                })\r\n                setData({data: temp, loading: false, error: false});\r\n            })\r\n            .catch((err) => {setData({data: false, loading: false, error: err.message})});\r\n    }, [])\r\n    //Defend self from mistake and render required component\r\n    if (data.error||!data.data) {return <ErrorPage message={data.error}/>}\r\n    if (data.loading) {return <Loading/>}\r\n    return (\r\n        <ErrorBoundary>\r\n            <div className={\"genre\"}>\r\n                <div className=\"card text-center m-1\">\r\n                    <h3 className={\"genre-header fw-bold fst-italic\"}>Select category:</h3>\r\n                </div>\r\n                <div className={\"d-flex flex-wrap justify-content-start genres_item_list\"}>\r\n                    {data.data}\r\n                </div>\r\n            </div>\r\n        </ErrorBoundary>\r\n    )\r\n}\r\nexport default GenresCategorie;","import React,{Component} from \"react\";\r\nimport {Loading,ErrorPage} from \"../../index\";\r\n\r\n\r\nlet DisplayItems = (View) => {\r\n    //receive item to view component from a fork and render with data in class-DisplayItems\r\n    return class DisplayItems extends Component {\r\n        //state proclaim\r\n        state = {\r\n            data: null,\r\n            error:false,\r\n            loading:false,\r\n            current_page:1,\r\n            total_page:null,\r\n            search:null\r\n        };\r\n        getParamsPage=()=>{\r\n        //retrieve parameters from url and return them to make correct request\r\n            let page=this.props.match.params.page;\r\n            let search=this.props.match.params.id;\r\n            return {page,search}\r\n        }\r\n        componentDidMount() {\r\n            //depend on from params fetch with required params\r\n            let {page,search} = this.getParamsPage();\r\n            this.setState({loading: true, search: search,current_page:page});\r\n            if(search!==\"undefined\"){\r\n                this.fetchData(page, search)\r\n            }else{\r\n                this.fetchData(page);\r\n            }\r\n        }\r\n        componentDidUpdate(prevProps, prevState) {\r\n           //Componnent depend 0n get data from props and state current page so put it in dependecies for update\r\n             if(this.state.current_page!==prevState.current_page||this.props.getData!==prevProps.getData||this.props.match.params.id!==prevProps.match.params.id){\r\n                 this.setState((state)=>({loading:true,search:this.props.match.params.id}));\r\n                 if(this.state.search!==\"undefined\"){\r\n                     this.fetchData(this.state.current_page,this.state.search);\r\n                 }else{\r\n                     this.fetchData(this.state.current_page);\r\n                 }\r\n             }\r\n        }\r\n        //function for data fetch and state tune\r\n        fetchData(page,search){\r\n                this.props.getData(page,search)\r\n                    .then((data)=>{\r\n                        this.setState(()=>({\r\n                        data: data.results,\r\n                        error:false,\r\n                        loading:false,\r\n                        current_page:data.page,\r\n                        total_page:data.total_pages\r\n                    }))\r\n                }).catch(error=> this.setState({\r\n                    data: null,\r\n                    error:true,\r\n                    loading:false,\r\n                    current_page:null,\r\n                    total_page:null\r\n                }));\r\n        }\r\n        //function transmitted to pagination for switching lists\r\n        itteractingWithPage = (item) =>{\r\n            this.setState((state)=>({current_page:item}));\r\n        }\r\n        render() {\r\n            //destruct required data to render and transmit to component\r\n            let {error,data,current_page,total_page} = this.state;\r\n            if (error) return <ErrorPage/>\r\n            if (!data) return <Loading/>\r\n            return (<View\r\n                data={data}\r\n                current_page={current_page}\r\n                total_page={total_page}\r\n                itteractingWithPage={this.itteractingWithPage}\r\n                   />)\r\n        }\r\n    }\r\n}\r\n\r\nexport default DisplayItems;","import React from \"react\";\r\nimport {useHistory} from \"react-router\";\r\nimport {Buttons} from \"./../../index\";\r\nimport \"./MovieCardSmall.css\";\r\n\r\n\r\nconst MovieCardSmall=(props)=>{\r\n    const {data} = props;\r\n    const history = useHistory();\r\n    const handleToDetail=(data)=>{history.push(`/movie_detail/${data.id}`)};\r\n\r\n    return(\r\n        <div className=\"col d-flex mt-1\">\r\n        <div className=\"card m-0\">\r\n            <div className=\"card-body\">\r\n                <h5 className=\"card-title fw-bold\">{data.original_title}</h5>\r\n                <img width={200} height={300} src={`https://www.themoviedb.org/t/p/w300_and_h450_bestv2/${data.poster_path}`} alt={\"Poster of movie\"}/>\r\n                <p className=\"card-text fs-6 fst-italic\" >{`${data.overview.substring(0,50)} ...`}</p>\r\n                <p className=\"card-text fs-5\">Movie Rate: {data.vote_average}</p>\r\n                <button type=\"button\" className=\"btn btn-secondary more-detail\" onClick={()=>handleToDetail(data)}>More detail</button>\r\n                <Buttons movie_data={data}/>\r\n            </div>\r\n        </div>\r\n       </div>\r\n    )\r\n}\r\n\r\nexport default MovieCardSmall;\r\n\r\n\r\n\r\n","import React, {Component,useState,useEffect} from 'react';\r\nimport {ErrorPage, Pagination} from \"../../index\";\r\nimport MovieCardSmall from \"../MovieCards/MovieCardSmall\";\r\n\r\nclass ErrorBoundary extends Component {\r\n    state = {ErrorExist: false}\r\n    componentDidCatch(error, errorInfo) {\r\n        this.setState({ErrorExist: !this.state.ErrorExist})\r\n    }\r\n    render() {if (this.state.ErrorExist) {return <ErrorPage/>}\r\n        return this.props.children;\r\n    }\r\n}\r\n\r\nconst ItemList = (props) => {\r\n    const [toRender,setToRender]=useState();\r\n    useEffect(()=>{render(props.data)},[props.data]);\r\n    /*\r\n    received list from component display item list transferred to each component MovieCardSmall\r\n    all interaction occur in \"displayitemlist\", here only rendering\r\n     */\r\n    const render=(data)=>{\r\n        const transformData = data ? data.map((item, index) => {\r\n            return (<MovieCardSmall data={item} key={index} />)}) : null;\r\n        if (!props.data) return (<div>Sorry nothing to display</div>);\r\n        setToRender(transformData);\r\n    };\r\n\r\n    return (\r\n        <ErrorBoundary>\r\n            <div className=\"container\">\r\n                <ErrorBoundary>\r\n                    <Pagination current_page={props.current_page} total_page={props.total_page} itteractingWithPage={props.itteractingWithPage}/>\r\n                    <div className=\"row row-col-4\">\r\n                        {toRender}\r\n                    </div>\r\n                    <Pagination current_page={props.current_page} total_page={props.total_page} itteractingWithPage={props.itteractingWithPage}/>\r\n                </ErrorBoundary>\r\n            </div>\r\n        </ErrorBoundary>\r\n    )\r\n}\r\nexport default ItemList;\r\n","import React from 'react';\r\nimport \"./ItemCardDetails.css\";\r\n\r\nconst ItemCardDetails=({data})=>{\r\n    return(\r\n        <div>\r\n            <div className=\"card card-head row mb-3 mt-3\">\r\n                    <h3 className=\"card-header fw-bold\">{data.original_title}</h3>\r\n                    <div className=\"card-body\">\r\n                        <h5 className=\"card-title fst-italic\">{`Motto: ${data.title}`}</h5>\r\n                        <h6 className=\"card-subtitle text-muted fst-italic\">{`Released: ${data.release_date}`}</h6>\r\n                    </div>\r\n                </div>\r\n            <div className=\"row g-0\">\r\n                <div className=\"col-md-4\">\r\n                    <img src={data.backdrop_path} className=\"img-fluid rounded-start\" alt={data.original_title}/>\r\n                </div>\r\n                <div className=\"col-md-8\">\r\n                    <div className=\"card-body\">\r\n                        <h5 className=\"card-title fw-bold\">Main information:</h5>\r\n                        <ul className=\"list-group list-group-flush\">\r\n                            <li className=\"list-group-item\">{`Genres: ${data.genres.map(item=>item.name)}`}</li>\r\n\r\n                            <li className=\"list-group-item\">{`Budget: ${data.budget}`}</li>\r\n                            <li className=\"list-group-item\">{`Revenue: ${data.revenue}`}</li>\r\n                            <li className=\"list-group-item\">{`Average vote : ${data.vote_average}`}</li>\r\n                            <li className=\"list-group-item\">{`Popularity : ${data.popularity}`}</li>\r\n                            <li className=\"list-group-item\">{`Duration : ${data.runtime}`}</li>\r\n                            <li className=\"list-group-item\">{`Production companies : ${data.production_companies.map(item=>item.name)}`}</li>\r\n                            <li className=\"list-group-item\">{`Movie id : ${data.id}`}</li>\r\n                            <li className=\"list-group-item\">{`Age limit to view : ${data.adult?\"Yes\":\"Nope\"}`}</li>\r\n                            <li className=\"list-group-item\">{`Original leandue: ${data.original_language}`}</li>\r\n                        </ul>\r\n                </div>\r\n            </div>\r\n                <div className=\"card row mt-2 mb-3\">\r\n                    <div className=\"card-body\">\r\n                        <p className=\"card-text fst-italic fs-6\">{data.overview}</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default ItemCardDetails;\r\n","import React, {useState, useEffect} from 'react';\r\nimport {useHistory} from \"react-router-dom\";\r\n\r\nconst RecomendationCard=({recommendations,getImage})=>{\r\n    const [dataToRender,setDataToRender] = useState([]);\r\n    const history = useHistory();\r\n    const MoreDetailHandler=(e,id)=>{history.push(`/movie_detail/${id}`)};\r\n\r\n    const toRender=(recommendations)=>{\r\n        let result=[];\r\n        if(!recommendations) {\r\n            return;\r\n        }else{\r\n            result = recommendations.results.map((item,index)=>{\r\n            let itemId = item.id;\r\n            return(\r\n                <div className=\"col\" key={index}>\r\n                    <div className=\"card\" style={{width: \"9rem\"}}>\r\n                        <img src={getImage(item.backdrop_path)} className=\"card-img-top\" alt={item.original_title}/>\r\n                        <div className=\"card-body\">\r\n                            <h6 className=\"card-title text-center\">{item.original_title}</h6>\r\n                            <button type=\"button\" className=\"btn btn-primary btn-component\" onClick={(e)=>MoreDetailHandler(e,itemId)}>More details</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )\r\n        })\r\n        }\r\n        setDataToRender([...result]);\r\n    }\r\n\r\n    useEffect(()=>{toRender(recommendations)},[recommendations])\r\n    return(\r\n        <div className=\"row row-cols-5\">\r\n            {dataToRender}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default RecomendationCard;\r\n","import React, { Component } from 'react';\r\nimport {withRouter} from \"react-router\";\r\nimport {Buttons, ErrorPage, Loading} from \"../../index\";\r\nimport ItemCardDetails from \"../MovieCards/ItemCardDetails\";\r\nimport RecomendationCard from \"../MovieCards/RecomendationCard\";\r\n\r\nclass ErrorBoundary extends Component {\r\n    state = {ErrorExist: false}\r\n    componentDidCatch(error, errorInfo) {this.setState({ErrorExist: !this.state.ErrorExist})}\r\n    render() {\r\n        if (this.state.ErrorExist) {return <ErrorPage/>}\r\n        return this.props.children;\r\n    }\r\n}\r\n\r\n class MovieDetails extends Component {\r\n     state={id:null, recommendations:null,data:null, loading:false, error:false};\r\n     componentDidMount(){\r\n         let id = this.getId();\r\n         this.setState({id:id,data:null,loading:true,error:false});\r\n         this.fetchData(id);\r\n     }\r\n     //mounting and fetch data depend on request type\r\n     componentDidUpdate(prevProps, prevState, snapshot) {\r\n         if(this.props.match.params.id!==prevProps.match.params.id){\r\n             this.fetchData(this.props.match.params.id);\r\n         }}\r\n\r\n     componentDidCatch(error, errorInfo) {this.setState({error:!this.state.error})}\r\n\r\n     onError=(err)=>{this.setState({...this.state, error:err})}\r\n     getId=()=>{return this.props.match.params.id}\r\n     fetchData=(id)=>{\r\n         let urls = [this.props.getData(id),this.props.getRecommendations(id)];\r\n         Promise.all(urls)\r\n             .then(results=>{\r\n                 results.forEach((item,index)=>{\r\n                     if(index===0) {\r\n                         item.backdrop_path=this.props.getImage(item.poster_path);\r\n                         this.setState({data:item});\r\n                     }\r\n                     if(index===1) {\r\n                         item.results.forEach((el=>{\r\n                             this.setState({recommendations:item,loading:false});\r\n                         }))\r\n                     }\r\n                 })\r\n             })\r\n             .catch((err)=> this.onError(err))\r\n     }\r\n      render(){\r\n        if (!this.state.data){return <Loading/>}\r\n        if (this.state.error){return <ErrorPage/>}\r\n        if (this.state.loading||!this.state.data){return <Loading/>}\r\n        const {data,recommendations} = this.state;\r\n        return (\r\n            <div className=\"container-fluid\">\r\n                <ErrorBoundary>\r\n                <ItemCardDetails data={data}/>\r\n                <Buttons movie_id={data.id} movie_data={data}/>\r\n                    <div className=\"container-fluid\">\r\n                        <h3 className={\"fw-bold\"}>The Same movie</h3>\r\n                        <RecomendationCard recommendations={recommendations} getImage={this.props.getImage}/>\r\n                    </div>\r\n                </ErrorBoundary>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default withRouter(MovieDetails);\r\n","import React,{useState,useEffect} from \"react\";\r\nimport \"./Button.css\";\r\nimport {ADD_MOVIE_TO_FAVORITE, DELETE_MOVIE_FROM_FAVORITE} from \"../../../redux-store/action\";\r\nimport Wrapper from \"../../../Engine/Wrapper\";\r\nimport {connect} from \"react-redux\";\r\n\r\nconst Buttons = (props) => {\r\n    const {movie_data, removeFromFavorite, addToFavorite,token} = props;\r\n    const [buttonState,setButtonState] = useState({add:\"disabled\",remove:\"disabled\"});\r\n    //render element depend on condition from store\r\n    const find=(id)=>{\r\n        let index=-1;\r\n         for(let i=0;i<props.movies.length;i++){\r\n             if(props.movies[i]?.id === id){\r\n                 index=i;\r\n             }\r\n         }\r\n        return index;\r\n    }\r\n\r\n    const changeButton = () =>{\r\n        if(props.movies===undefined||props.movies===null)return;\r\n        if(!token) {setButtonState({add:\"disabled\",remove:\"disabled\"})};\r\n        const idx=find(movie_data.id);\r\n        if(idx>=0){setButtonState({add:\"disabled\",remove:\"\"})\r\n        }else{\r\n            setButtonState({add:\"\",remove:\"disabled\"})}\r\n    };\r\n    useEffect(()=>changeButton(),[props.movies])\r\n\r\n    //add favorite and switch button status\r\n    const actionsAdd=()=>{\r\n          addToFavorite()\r\n          setButtonState({add:\"disabled\",remove:\"\"})\r\n    }\r\n    //remove favorite and switch button status\r\n    const actionsRemove=()=>{\r\n           removeFromFavorite()\r\n           setButtonState({add:\"\",remove:\"disabled\"})\r\n    }\r\n\r\n    if(props.token) {\r\n        return (\r\n            <>\r\n                <button type=\"button\" className=\"btn btn-primary btn-component\" disabled={buttonState.add} onClick={() => actionsAdd()}>Add to favorite</button>\r\n                <button type=\"button\" className=\"btn btn-primary btn-component\" disabled={buttonState.remove} onClick={() => actionsRemove()}>Remove from favorite</button>\r\n            </>\r\n        )\r\n    }else{ return (\r\n        <>\r\n            <button type=\"button\" className=\"btn btn-primary btn-component\" disabled={\"disabled\"}>Add to favorite</button>\r\n            <button type=\"button\" className=\"btn btn-primary btn-component\" disabled={\"disabled\"}>Remove from favorite</button>\r\n            <div className=\"alert alert-warning\" role=\"alert\">Please login or register account for save in favorite current movie</div>\r\n        </>\r\n    )}\r\n   ;\r\n\r\n};\r\nconst mapStateToProps=({movies,loading,errors})=>{return {movies,loading,errors}};\r\nconst mapDispatchToProps=(dispatch, ownProps)=>{\r\n    const {token,engineRemoveFavorite,engineAddFavorite,movie_data} = ownProps;\r\n    return{\r\n        removeFromFavorite:()=>DELETE_MOVIE_FROM_FAVORITE(token,engineRemoveFavorite,dispatch,movie_data),\r\n        addToFavorite:()=>ADD_MOVIE_TO_FAVORITE(token,engineAddFavorite,dispatch,movie_data)\r\n    };\r\n};\r\nexport default Wrapper()(connect(mapStateToProps,mapDispatchToProps)(Buttons));\r\n","import React, {useState, useEffect, Component} from \"react\";\r\nimport {useHistory} from \"react-router\";\r\nimport {ErrorPage} from \"../../index\";\r\nimport Buttons from \"../../Auxilary/Buttons/Buttons\";\r\n\r\n\r\nclass ErrorBoundary extends Component {\r\n    state = {ErrorExist: false}\r\n    componentDidCatch(error, errorInfo) {\r\n        this.setState({ErrorExist: !this.state.ErrorExist});\r\n    }\r\n    render() {\r\n        if (this.state.ErrorExist) {return <ErrorPage/>}\r\n        return this.props.children;\r\n    }\r\n}\r\n\r\nconst DisplayFavorite = (props) => {\r\n    const [toRender, setToRender] = useState([]);\r\n    const history = useHistory();\r\n\r\n    useEffect(() => renderItem(props.data), [props.data]);\r\n    const getImg=(id)=>{return `https://www.themoviedb.org/t/p/w300_and_h450_bestv2${id}`};\r\n    const handleToDetail = (item) => {history.push(`/movie_detail/${item.id}`)}//to detail page of favorite component\r\n\r\n    const renderItem = (data) => {\r\n        let temp = null;\r\n        if(!data){\r\n            temp =[<div key={1}>No favorite in you list</div>];\r\n        }else{\r\n            temp = data.map((item, index) => {\r\n                    return (\r\n                        <div className=\"col d-flex mt-3\" key={index}>\r\n                            <div className=\"card\">\r\n                                <div className=\"card-body\">\r\n                                    <h5 className=\"card-title\">{item.original_title}</h5>\r\n                                    <img width={150} height={230} alt={\"some picture\"} src={getImg(item.poster_path)}/>\r\n                                    <div className={\"card-text\"}>\r\n                                        <button type=\"button\" className=\"btn btn-light btn-component\" onClick={()=>handleToDetail(item)}>More details</button>\r\n                                        <Buttons movie_id={item.id} movie_data={item}/>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    )\r\n                }\r\n            )\r\n        }\r\n        setToRender(temp);\r\n    }\r\n    return (<div className={\"row row-cols-3\"}>\r\n            <ErrorBoundary>\r\n                  {toRender}\r\n            </ErrorBoundary>\r\n    </div>)\r\n}\r\nexport default DisplayFavorite;\r\n","import React, {Component} from \"react\";\r\nimport {Loading, ErrorPage} from \"../../index\";\r\nimport DisplayFavorite from \"./DisplayFavorite\";\r\nimport {connect} from \"react-redux\";\r\n\r\nclass ErrorBoundary extends Component {\r\n    state = {ErrorExist: false}\r\n    componentDidCatch(error, errorInfo) {this.setState({ErrorExist: !this.state.ErrorExist})}\r\n    render() {\r\n        if (this.state.ErrorExist) {return <ErrorPage/>}\r\n        return this.props.children;\r\n    }\r\n}\r\n\r\nconst FetchFavorite = (props) => {\r\n    //fetch favorite from redux, and if list empty render dialog box if no transfer data to next component\r\n    //where data will be transformed\r\n    if (props.movies.error) {return <ErrorPage/>}\r\n    if (props.movies.loading) {return <Loading/>}\r\n    if (props.movies.length === 0) {\r\n        return (\r\n            <div className={\"container-fluid\"}>\r\n                <div className=\"alert alert-primary mt-3\" role=\"alert\">Favorite list is empty please add some movie</div>\r\n            </div>)\r\n    }\r\n    return (\r\n        <div className={\"container-fluid\"}>\r\n            <ErrorBoundary>\r\n                <DisplayFavorite data={props.movies}/>\r\n            </ErrorBoundary>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps=({movies, loading, errors})=>{return {movies, loading, errors}}\r\nexport default connect(mapStateToProps)(FetchFavorite);\r\n","import Wrapper from \"./../../Engine/Wrapper\";\r\nimport GenresCategorie  from \"./ItemList/Genres/DisplayGenres\";\r\nimport DisplayItems from \"./ItemList/DisplayItemList\";\r\nimport ItemList from \"./ItemList/ItemList\";\r\nimport MovieDetails from \"./MovieItem/MovieDetails\";\r\nimport FetchFavorite from \"./MyFavorite/FetchFavorite\";\r\n\r\nconst getByGenre=(engine)=>{return {getData:engine.getByGenre,getImage:engine.getImg}}\r\nconst getBySearch=(engine)=>{return {getData:engine.getBySearch,getImage:engine.getImg}}\r\nconst getByPopular=(engine)=>{return {getData:engine.getPopularMovies,getImage:engine.getImg}}\r\nconst getDetails=(engine)=>{return {getRecommendations:engine.getRecommendations,getData:engine.getMovieDetails,getImage:engine.getImg}}\r\nconst getFavorite=(engine)=>{return {getData:engine.getMovieDetails,getImage:engine.getImg}}\r\n//endow all component with function from provider and put it in router\r\nconst ShowFavorite = Wrapper(getFavorite)(FetchFavorite)\r\nconst SearchMovies = Wrapper(getBySearch)(DisplayItems(ItemList))\r\nconst PopularMovies = Wrapper(getByPopular)(DisplayItems(ItemList))\r\nconst GenresMovies = Wrapper(getByGenre)(DisplayItems(ItemList))\r\nconst GenresCategories = Wrapper(getByGenre)(GenresCategorie)\r\nconst MovieDetail = Wrapper(getDetails)(MovieDetails)\r\nexport  {GenresMovies,GenresCategories,SearchMovies,PopularMovies,MovieDetail,ShowFavorite};\r\n","import React,{useState} from \"react\";\r\nimport \"./AccountSettings.css\"\r\nimport Wrapper from \"../../../Engine/Wrapper\";\r\nimport {connect} from \"react-redux\";\r\nimport AccountImage from \"./../AccountImage/AccountImage\";\r\n\r\nconst RenderPersonalData=({data})=>{\r\n    let results = Object.entries(data).map((itm,idx)=>{\r\n        return (<div key={idx}>{itm[0]}:{itm[1]}</div>);\r\n    });\r\n    return (<>{results}</>);\r\n}\r\nconst ChangePersonalData=({data})=>{\r\n    return (<>\r\n        <div className={'row'}><div className={'col'}>Language:</div><div className={'col'}></div></div>\r\n        <div className={'row'}><div className={'col'}>Change phone number:</div><div className={'col'}></div></div>\r\n        <div className={'row'}><div className={'col'}>Set nick:</div><div className={'col'}></div></div>\r\n        <div className={'row'}><div className={'col'}>Set city:</div><div className={'col'}></div></div>\r\n        <div className={'row'}><div className={'col'}>Change password:</div><div className={'col'}></div></div>\r\n        <div className={'row'}><div className={'col'}>User themes:</div><div className={'col'}></div></div>\r\n    </>);\r\n}\r\nconst AccountSettings = (props) => {\r\n    const [displayed,setDisplayed] = useState({personal:false,notification:false,remove:false,information:false});\r\n    const [selectedElement,setSelectedElement] = useState(null);\r\n\r\n    const setSelected=(e)=>{\r\n        if(selectedElement){\r\n            selectedElement.classList.remove('active');\r\n        };\r\n        let temp = {...displayed};\r\n        temp[selectedElement?.dataset?.selected]=false;\r\n        temp[e.target.dataset.selected]=true;\r\n        setDisplayed({...temp});\r\n        e.target.classList.add('active');\r\n        setSelectedElement(e.target);\r\n        }\r\n\r\n    return (\r\n            <div>\r\n            <div className=\"settings_header\">\r\n                <ul className='d-flex justify-content-between'>\r\n                    <li><div data-selected=\"information\" className='settings_title' onClick={(e)=>{setSelected(e)}}>Personal_information</div></li>\r\n                    <li><div data-selected=\"personal\" className='settings_title' onClick={(e)=>{setSelected(e)}}>Personal_settings</div></li>\r\n                    <li><div data-selected=\"notification\" className='settings_title' onClick={(e)=>{setSelected(e)}}>Account_notification</div></li>\r\n                    <li><div data-selected=\"remove\" className='settings_title' onClick={(e)=>{setSelected(e)}}>Account_remove</div></li>\r\n                </ul>\r\n                <hr/>\r\n                </div>\r\n                {!selectedElement?<div className={'d-flex justify-content-center'}>Please select setting category</div>:null }\r\n                    <div className={`settings_extended_${displayed.remove}`}>\r\n                        <div className={'d-flex'}><input type=\"password\" className={'settings_extended_input'}/><button className='btn btn-danger settings_extended_button'>Remove account</button></div><br/>\r\n                        <span>For removing account enter password for confirmation</span>\r\n                    </div>\r\n                    <div className={`settings_extended_${displayed.notification}`}>\r\n                        <div className={'row settings_extended-row'}>\r\n                            <div className={'col-4'}><button className={'btn btn-primary'} >Subscribe on our mailing</button></div>\r\n                            <div className={'col'}>Disabled</div>\r\n                        </div>\r\n                        <div className={'row settings_extended-row'}>\r\n                            <div className={'col-4'}><button className={'btn btn-primary'} >Advertising mailing</button></div>\r\n                            <div className={'col'}>Disabled</div>\r\n                        </div>\r\n                        <div className={'row settings_extended-row'}>\r\n                            <div className={'col-4'}><button className={'btn btn-primary'} >Personal suggests</button></div>\r\n                            <div className={'col'}>Disabled</div>\r\n                        </div>\r\n                    </div>\r\n                    <div className={`settings_extended_${displayed.personal}`}>\r\n                        <ChangePersonalData data={props.user}/>\r\n                    </div>\r\n                <div className={`row settings_extended_${displayed.information}`}>\r\n                    <div className='col-4'>\r\n                        <div className={'settings_extended-huge_image'}><AccountImage/></div>\r\n                    </div>\r\n                    <div className='col-8'>\r\n                        {<RenderPersonalData data={props.user}/>}\r\n                    </div>\r\n                </div>\r\n                      {selectedElement&&selectedElement?.dataset?.selected!=='remove'?<button className={'btn btn-success settings_extended-save_button'}>Save changes</button>:null }\r\n                    </div>\r\n\r\n        )\r\n};\r\n\r\nconst mapStateToProps=({user})=>{return{user};};\r\nexport default Wrapper()(connect(mapStateToProps,null)(AccountSettings))\r\n\r\n","import React from 'react';\r\nimport {Switch, Route, Redirect, BrowserRouter} from 'react-router-dom';\r\nimport {AccountSettings,Header,Auth,Registration,SideBar,GenresCategories,SearchMovies,PopularMovies,GenresMovies,MovieDetail,ShowFavorite} from \"./../Pages\"\r\nconst ApiRouter = (credentials) => {\r\n   if (credentials) {\r\n       //depend on credentials return proper routing\r\n        return (\r\n            <BrowserRouter>\r\n                <Header/>\r\n                <div className=\"container\">\r\n                    <div className={\"row justify-content-around mt-3\"}>\r\n                    <div className=\"col-3\">\r\n                        <SideBar credentials={credentials}/>\r\n                    </div>\r\n                    <div className=\"col-9 right_bar\">\r\n                        <Route path=\"/movie_detail/:id\" exact render={MovieDetail}/>\r\n                        <Route path='/random_movie/:id' exact render={MovieDetail}/>\r\n                        <Route path='/genres' exact render={GenresCategories}/>\r\n                        <Route path='/genre/:page/:id' exact render={GenresMovies}/>\r\n                        <Route path='/search/:page/:id' exact render={SearchMovies}/>\r\n                        <Route path='/popular/:page' exact render={PopularMovies}/>\r\n                        <Route path='/favorite' exact render={ShowFavorite}/>\r\n                        <Route path='/settings' exact render={AccountSettings}/>\r\n                        <Redirect to=\"/popular/1\"/>\r\n                    </div>\r\n                </div>\r\n                </div>\r\n            </BrowserRouter>\r\n        )\r\n    } else {\r\n        return (\r\n            <BrowserRouter>\r\n                <Header/>\r\n                <div className=\"container\">\r\n                    <div className={\"row justify-content-around mt-3\"}>\r\n                    <div className=\"col-3 left-bar\">\r\n                        <SideBar credentials={credentials}/>\r\n                    </div>\r\n                    <div className=\"col-9 right-bar\">\r\n                        <Switch>\r\n                            <Route path='/popular/:page' exact render={PopularMovies}/>\r\n                            <Route path='/favorite' exact render={ShowFavorite}/>\r\n                            <Route path=\"/movie_detail/:id\" exact render={MovieDetail}/>\r\n                            <Route path='/random_movie/:id' exact render={MovieDetail}/>\r\n                            <Route path='/genres' exact render={GenresCategories}/>\r\n                            <Route path='/genre/:page/:id' exact render={GenresMovies}/>\r\n                            <Route path='/search/:page/:id' exact render={SearchMovies}/>\r\n                            <Route path='/authentication' exact render={Auth}/>\r\n                            <Route path=\"/registration\" exact render={Registration}/>\r\n                            <Redirect to=\"/popular/1\"/>\r\n                        </Switch>\r\n                    </div>\r\n                    </div>\r\n                </div>\r\n            </BrowserRouter>\r\n        )\r\n    }\r\n}\r\nexport default ApiRouter;\r\n","import {useEffect,useState,useCallback} from 'react';\r\nimport {Engine} from \"./index\";\r\n\r\n const AuthentificationEngine =()=>{\r\n    const [token, setToken] = useState(null);\r\n    const [id, setId] = useState(null);\r\n    const storeName=\"user\";\r\n    const {request} = new Engine();\r\n\r\n    //here created 3 request to DB visible via wrapper in requiered commponent\r\n     const engineRemoveFavorite=useCallback((token,movieData)=>{ return request(\"https://yermolaiev-movie-db.herokuapp.com/api/remove-favorite\",\"POST\",{movie: movieData},{credentials:`bearer ${token}`})},[request])\r\n     const engineAddFavorite=useCallback((token,movieData)=>{return request(\"https://yermolaiev-movie-db.herokuapp.com/api/add-favorite\",\"POST\", {movie: movieData},{credentials:`bearer ${token}`})},[request])\r\n     const engineGetFavorite=useCallback((token)=>{ return request(\"https://yermolaiev-movie-db.herokuapp.com/api/get-favorite\",\"GET\",null,{credentials:`bearer ${token}` })},[request])\r\n\r\n     const login=useCallback((token,id)=>{\r\n         setToken(token);setId(id);\r\n         localStorage.setItem(storeName,JSON.stringify({token,id}));\r\n      },[])\r\n\r\n      const logout=useCallback(()=>{\r\n        setToken(null);setId(null);\r\n        localStorage.clear();\r\n      },[]);\r\n/*\r\nWhen we reload page data from state will erase\r\nthen why we downland from local storage\r\nfor this, to illuminate when after reload user can be logouted\r\n*/\r\n     useEffect(()=>{\r\n         let localStorageData = JSON.parse(localStorage.getItem(storeName));\r\n          if(localStorageData?.token&&localStorageData?.id){\r\n              login(localStorageData.token,localStorageData.id);\r\n          }\r\n     },[login]);\r\n\r\nreturn {login,logout,id,token,engineRemoveFavorite,engineAddFavorite,engineGetFavorite}\r\n}\r\nexport default AuthentificationEngine;\r\n","export default class Validator {\r\n    results = {};\r\n    schema = {\r\n        email:/[a-zA-Z0-9]+@[a-zA-Z0-9]+\\.[a-zA-Z0-9]+/,\r\n        password:/([a-zA-Z0-9]){6,}/g,\r\n        phone:/^\\+380[0-9]{9}$/,\r\n        city:/[A-Za-z]{3,}/,\r\n        nick:/[A-Za-z,0-9]{4,}/\r\n    }\r\n    test =(key,value)=> this.schema[key]?this.schema[key].test(value):this.schema.default.test(value);\r\n\r\n    validate=(props,resultsSetter)=>{\r\n        this.results = {};\r\n        for(let [key,value] of Object.entries(props)){\r\n                if(!this.test(key,value))this.results[key]=this.mistakesDescription[key];\r\n        }\r\n        resultsSetter(this.results);\r\n    }\r\n    mistakesDescription={\r\n        email:\"Incorrect email, please check it...Example 'youremail@provider.com'\",\r\n        password:\"Password is not correct,use letters and digits. Minimum 6 symbols.\",\r\n        nick:\"Nickname must be longer 4 symbols, can contain letters and digits\",\r\n        city:\"City length must be more 2 letters\",\r\n        phone:\"Phone not correct, it should be like example - +380442233444\"\r\n    }\r\n}","import React from 'react'\nimport \"./App.css\"\nimport store from \"./redux-store/store\";\nimport {ApiRouter, AuthentificationEngine, Provider} from \"./Engine\";\nimport {Provider as ReduxProvider} from \"react-redux\"\n\nconst App = () => {\n    /*The first step check presenting data in local storage and state,\n    -if data exist  and store loaded -ok\n    -if data exist but store missed -load\n    -store exist if but data nope -delete credentials\n    -if store not exist-delete credentials load store\n    */\n    //check on credetials presents\n    //and call router function with rendered route in advance depend on credetials\n\n    const methods = {...AuthentificationEngine()}\n    const apiRouter = ApiRouter(methods.token !== null && methods.id !== null)\n    return (\n        <div className={\"container-fluid\"}>\n            <ReduxProvider store={store}>\n                <Provider value={methods}>\n                    {apiRouter}\n                </Provider>\n            </ReduxProvider>\n        </div>\n    )\n}\n\nexport default App\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App/>, document.getElementById('root'));\n\n\n"],"sourceRoot":""}